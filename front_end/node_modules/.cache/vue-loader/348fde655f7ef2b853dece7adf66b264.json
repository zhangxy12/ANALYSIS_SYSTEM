{"remainingRequest":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\wbAnalyze\\Topic_hot.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\wbAnalyze\\Topic_hot.vue","mtime":1734704464804},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1733210776030},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1733210773580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJ0b3BpY19ob3QiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICByYWRpbzogMSwgLy8g6buY6K6k6YCJ5oup5bCP5pe257KS5bqmDQogICAgICBob3VyX3RpbWU6IFtdLCAvLyDlrZjlgqjlsI/ml7bmlbDmja4NCiAgICAgIGhvdXJfY291bnQ6IFtdLCAvLyDlrZjlgqjlsI/ml7bnu5/orqHmlbDmja4NCiAgICAgIGRheV90aW1lOiBbXSwgLy8g5a2Y5YKo5aSp5pWw5o2uDQogICAgICBkYXlfY291bnQ6IFtdLCAvLyDlrZjlgqjlpKnnu5/orqHmlbDmja4NCiAgICAgIG1vbnRoX3RpbWU6IFtdLCAvLyDlrZjlgqjmnIjmlbDmja4NCiAgICAgIG1vbnRoX2NvdW50OiBbXSwgLy8g5a2Y5YKo5pyI57uf6K6h5pWw5o2uDQogICAgICBteUNoYXJ0OiBudWxsLA0KICAgIH07DQogIH0sDQogIHdhdGNoOiB7DQogICAgcmFkaW8obmV3cmFkaW8pIHsNCiAgICAgIHRoaXMuY2hhbmdlbGluZShuZXdyYWRpbyk7DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOiOt+WPluivnemimOWPkeWNmuaXtumXtOe7n+iuoeaVsOaNrg0KICAgIGdldFRvcGljRGF0YShpZCkgew0KICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvcG9zdF90aW1lX3N0YXRpc3RpY3M/dGFnX3Rhc2tfaWQ9JHtpZH1gKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgIA0KICAgICAgICAvLyDmm7TmlrDlsI/ml7bmlbDmja7lubbmjpLluo8NCiAgICAgICAgdGhpcy5ob3VyX3RpbWUgPSBPYmplY3Qua2V5cyhkYXRhLmhvdXIpLnNvcnQoKTsgLy8g5oyJ5bCP5pe25o6S5bqPDQogICAgICAgIHRoaXMuaG91cl9jb3VudCA9IHRoaXMuaG91cl90aW1lLm1hcCh0aW1lID0+IGRhdGEuaG91clt0aW1lXSk7IC8vIOagueaNruaOkuW6j+WQjueahOaXtumXtOiOt+WPluWPkeWNmuaVsOmHjw0KDQogICAgICAgIC8vIOabtOaWsOWkqeaVsOaNruW5tuaOkuW6jw0KICAgICAgICB0aGlzLmRheV90aW1lID0gT2JqZWN0LmtleXMoZGF0YS5kYXkpLnNvcnQoKTsgLy8g5oyJ5aSp5o6S5bqPDQogICAgICAgIHRoaXMuZGF5X2NvdW50ID0gdGhpcy5kYXlfdGltZS5tYXAodGltZSA9PiBkYXRhLmRheVt0aW1lXSk7IC8vIOagueaNruaOkuW6j+WQjueahOaXtumXtOiOt+WPluWPkeWNmuaVsOmHjw0KDQogICAgICAgIC8vIOabtOaWsOaciOaVsOaNruW5tuaOkuW6jw0KICAgICAgICB0aGlzLm1vbnRoX3RpbWUgPSBPYmplY3Qua2V5cyhkYXRhLm1vbnRoKS5zb3J0KCk7IC8vIOaMieaciOaOkuW6jw0KICAgICAgICB0aGlzLm1vbnRoX2NvdW50ID0gdGhpcy5tb250aF90aW1lLm1hcCh0aW1lID0+IGRhdGEubW9udGhbdGltZV0pOyAvLyDmoLnmja7mjpLluo/lkI7nmoTml7bpl7Tojrflj5blj5HljZrmlbDph48NCg0KICAgICAgICAvLyDpu5jorqTmmL7npLrlsI/ml7bmlbDmja4NCiAgICAgICAgdGhpcy5teUxpbmVDaGFydCh0aGlzLmhvdXJfdGltZSwgdGhpcy5ob3VyX2NvdW50KTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvLyDmuLLmn5Pmipjnur/lm74NCiAgICBteUxpbmVDaGFydCh0aW1lLCBjb3VudCkgew0KICBsZXQgb3B0aW9uOw0KICBpZiAodGhpcy5teUNoYXJ0KSB7DQogICAgdGhpcy5teUNoYXJ0LmRpc3Bvc2UoKTsgLy8g6Kej5YazZWNoYXJ0cyBkb23lt7LliqDovb3nmoTmiqXplJkNCiAgfQ0KICB0aGlzLm15Q2hhcnQgPSB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxpbmVDaGFydCIpKTsNCiAgb3B0aW9uID0gew0KICAgIHRvb2x0aXA6IHsNCiAgICAgIHRyaWdnZXI6ICJheGlzIiwNCiAgICAgIHBvc2l0aW9uOiAiY2VudGVyIiwNCiAgICAgIGF4aXNQb2ludGVyOiB7DQogICAgICAgIHR5cGU6ICJjcm9zcyIsDQogICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAiIzZhNzk4NSIsDQogICAgICAgIH0sDQogICAgICB9LA0KICAgIH0sDQogICAgeEF4aXM6IHsNCiAgICAgIHR5cGU6ICJjYXRlZ29yeSIsDQogICAgICBkYXRhOiB0aW1lLCAvLyDlt7LmjpLluo/nmoTml7bpl7TmlbDmja4NCiAgICAgIGF4aXNMYWJlbDogew0KICAgICAgICBjb2xvcjogIndoaXRlIiwgLy8g6K6+572u5qiq5Z2Q5qCH55qE5a2X5L2T6aKc6Imy5Li655m96ImyDQogICAgICB9LA0KICAgIH0sDQogICAgeUF4aXM6IHsNCiAgICAgIHR5cGU6ICJ2YWx1ZSIsDQogICAgICBheGlzTGFiZWw6IHsNCiAgICAgICAgY29sb3I6ICJ3aGl0ZSIsIC8vIOiuvue9rue6teWdkOagh+eahOWtl+S9k+minOiJsuS4uueZveiJsg0KICAgICAgICBmb3JtYXR0ZXI6ICh2YWx1ZSkgPT4gew0KICAgICAgICAgIC8vIOS/neivgee6teWdkOagh+WPquaYvuekuuaVtOaVsA0KICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKHZhbHVlKTsNCiAgICAgICAgfSwNCiAgICAgIH0sDQogICAgfSwNCiAgICBzZXJpZXM6IFsNCiAgICAgIHsNCiAgICAgICAgZGF0YTogY291bnQsDQogICAgICAgIHR5cGU6ICJsaW5lIiwNCiAgICAgICAgc21vb3RoOiB0cnVlLCAvLyDlubPmu5Hmm7Lnur8NCiAgICAgICAgbGluZVN0eWxlOiB7DQogICAgICAgICAgY29sb3I6ICIjMDBGRkZGIiwgLy8g57q/5p2h6aKc6ImyDQogICAgICAgIH0sDQogICAgICAgIGl0ZW1TdHlsZTogew0KICAgICAgICAgIGNvbG9yOiAiIzAwRkZGRiIsIC8vIOeCueeahOminOiJsg0KICAgICAgICB9LA0KICAgICAgICBhcmVhU3R5bGU6IHsNCiAgICAgICAgICBjb2xvcjogInJnYmEoMCwgMjU1LCAyNTUsIDAuMykiLCAvLyDog4zmma/ljLrln5/nmoTpopzoibINCiAgICAgICAgfSwNCiAgICAgIH0sDQogICAgXSwNCiAgfTsNCiAgdGhpcy5teUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOw0KfQ0KLA0KDQogICAgLy8g5qC55o2u6YCJ5Lit55qE57KS5bqm5YiH5o2i5oqY57q/5Zu+5pWw5o2uDQogICAgY2hhbmdlbGluZShsaW5lKSB7DQogICAgICBpZiAobGluZSA9PT0gMSkgew0KICAgICAgICAvLyDlsI/ml7YNCiAgICAgICAgdGhpcy5teUxpbmVDaGFydCh0aGlzLmhvdXJfdGltZSwgdGhpcy5ob3VyX2NvdW50KTsNCiAgICAgIH0gZWxzZSBpZiAobGluZSA9PT0gMikgew0KICAgICAgICAvLyDlpKkNCiAgICAgICAgdGhpcy5teUxpbmVDaGFydCh0aGlzLmRheV90aW1lLCB0aGlzLmRheV9jb3VudCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyDmnIgNCiAgICAgICAgdGhpcy5teUxpbmVDaGFydCh0aGlzLm1vbnRoX3RpbWUsIHRoaXMubW9udGhfY291bnQpOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICAvLyDnm5HlkKzniLbnu4Tku7bkvKDpgJLnmoQgdGFnX3Rhc2tfaWQg5bm26I635Y+W6K+d6aKY5pWw5o2uDQogICAgdGhpcy4kYnVzLiRvbigic2VuZF90YWdfdGFza19pZCIsICh0YWdfdGFza19pZCkgPT4gew0KICAgICAgdGhpcy5nZXRUb3BpY0RhdGEodGFnX3Rhc2tfaWQpOw0KICAgIH0pOw0KICB9LA0KDQogIGJlZm9yZURlc3Ryb3koKSB7DQogICAgdGhpcy4kYnVzLiRvZmYoInNlbmRfdGFnX3Rhc2tfaWQiKTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["Topic_hot.vue"],"names":[],"mappings":";AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Topic_hot.vue","sourceRoot":"src/components/wbAnalyze","sourcesContent":["<template>\r\n  <div class=\"topic_hot\">\r\n    <div class=\"topic_hot_top\">\r\n      <svg class=\"icon\" aria-hidden=\"true\">\r\n        <use xlink:href=\"#icon-redu\"></use>\r\n      </svg>\r\n      <span class=\"stat-title\">发布统计</span>\r\n      <div class=\"radio\">\r\n        <el-radio-group v-model=\"radio\">\r\n          <el-radio :label=\"1\">小时</el-radio>\r\n          <el-radio :label=\"2\">天</el-radio>\r\n          <el-radio :label=\"3\">月</el-radio>\r\n        </el-radio-group>\r\n      </div>\r\n    </div>\r\n    <div id=\"lineChart\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"topic_hot\",\r\n  data() {\r\n    return {\r\n      radio: 1, // 默认选择小时粒度\r\n      hour_time: [], // 存储小时数据\r\n      hour_count: [], // 存储小时统计数据\r\n      day_time: [], // 存储天数据\r\n      day_count: [], // 存储天统计数据\r\n      month_time: [], // 存储月数据\r\n      month_count: [], // 存储月统计数据\r\n      myChart: null,\r\n    };\r\n  },\r\n  watch: {\r\n    radio(newradio) {\r\n      this.changeline(newradio);\r\n    },\r\n  },\r\n  methods: {\r\n    // 获取话题发博时间统计数据\r\n    getTopicData(id) {\r\n      this.$axios.get(`/post_time_statistics?tag_task_id=${id}`).then((res) => {\r\n        const data = res.data.data;\r\n        \r\n        // 更新小时数据并排序\r\n        this.hour_time = Object.keys(data.hour).sort(); // 按小时排序\r\n        this.hour_count = this.hour_time.map(time => data.hour[time]); // 根据排序后的时间获取发博数量\r\n\r\n        // 更新天数据并排序\r\n        this.day_time = Object.keys(data.day).sort(); // 按天排序\r\n        this.day_count = this.day_time.map(time => data.day[time]); // 根据排序后的时间获取发博数量\r\n\r\n        // 更新月数据并排序\r\n        this.month_time = Object.keys(data.month).sort(); // 按月排序\r\n        this.month_count = this.month_time.map(time => data.month[time]); // 根据排序后的时间获取发博数量\r\n\r\n        // 默认显示小时数据\r\n        this.myLineChart(this.hour_time, this.hour_count);\r\n      });\r\n    },\r\n\r\n    // 渲染折线图\r\n    myLineChart(time, count) {\r\n  let option;\r\n  if (this.myChart) {\r\n    this.myChart.dispose(); // 解决echarts dom已加载的报错\r\n  }\r\n  this.myChart = this.$echarts.init(document.getElementById(\"lineChart\"));\r\n  option = {\r\n    tooltip: {\r\n      trigger: \"axis\",\r\n      position: \"center\",\r\n      axisPointer: {\r\n        type: \"cross\",\r\n        label: {\r\n          backgroundColor: \"#6a7985\",\r\n        },\r\n      },\r\n    },\r\n    xAxis: {\r\n      type: \"category\",\r\n      data: time, // 已排序的时间数据\r\n      axisLabel: {\r\n        color: \"white\", // 设置横坐标的字体颜色为白色\r\n      },\r\n    },\r\n    yAxis: {\r\n      type: \"value\",\r\n      axisLabel: {\r\n        color: \"white\", // 设置纵坐标的字体颜色为白色\r\n        formatter: (value) => {\r\n          // 保证纵坐标只显示整数\r\n          return Math.floor(value);\r\n        },\r\n      },\r\n    },\r\n    series: [\r\n      {\r\n        data: count,\r\n        type: \"line\",\r\n        smooth: true, // 平滑曲线\r\n        lineStyle: {\r\n          color: \"#00FFFF\", // 线条颜色\r\n        },\r\n        itemStyle: {\r\n          color: \"#00FFFF\", // 点的颜色\r\n        },\r\n        areaStyle: {\r\n          color: \"rgba(0, 255, 255, 0.3)\", // 背景区域的颜色\r\n        },\r\n      },\r\n    ],\r\n  };\r\n  this.myChart.setOption(option);\r\n}\r\n,\r\n\r\n    // 根据选中的粒度切换折线图数据\r\n    changeline(line) {\r\n      if (line === 1) {\r\n        // 小时\r\n        this.myLineChart(this.hour_time, this.hour_count);\r\n      } else if (line === 2) {\r\n        // 天\r\n        this.myLineChart(this.day_time, this.day_count);\r\n      } else {\r\n        // 月\r\n        this.myLineChart(this.month_time, this.month_count);\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    // 监听父组件传递的 tag_task_id 并获取话题数据\r\n    this.$bus.$on(\"send_tag_task_id\", (tag_task_id) => {\r\n      this.getTopicData(tag_task_id);\r\n    });\r\n  },\r\n\r\n  beforeDestroy() {\r\n    this.$bus.$off(\"send_tag_task_id\");\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.topic_hot {\r\n  background-color: #ffffff00;\r\n  height: 35%; /* 增加高度，但保持较小值避免过高 */\r\n  position: relative;\r\n  color: #ffffff;\r\n  /*border-radius: 8px;*/\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* 添加阴影效果 */\r\n  border: 2px solid #fefeff6a; /* 深色边框 */\r\n  border-radius: 10px;\r\n  \r\n  box-sizing: border-box;\r\n  background: #1a1a1a00; /* 背景颜色 */\r\n  box-shadow: 0 0 15px rgba(0, 255, 255, 0.8), 0 0 25px rgba(63, 154, 87, 0.4); /* 外阴影 */\r\n  overflow: hidden;\r\n}\r\n\r\n.topic_hot:after {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: -2px;\r\n  left: -2px;\r\n  right: -2px;\r\n  bottom: -2px;\r\n  border-radius: 12px;\r\n  border: 3px solid rgba(31, 33, 33, 0.7); /* 外部细边框 */\r\n  z-index: -1;\r\n  animation: borderAnimation 4s ease-in-out infinite;\r\n}\r\n\r\n/* 呼吸动画 */\r\n@keyframes pulseBorder {\r\n  0% {\r\n    box-shadow: 0 0 15px rgba(0, 255, 255, 0.6), 0 0 25px rgba(0, 255, 255, 0.3);\r\n    filter: blur(10px);\r\n  }\r\n  50% {\r\n    box-shadow: 0 0 25px rgba(0, 255, 255, 0.9), 0 0 35px rgba(0, 255, 255, 0.6);\r\n    filter: blur(5px);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 15px rgba(0, 255, 255, 0.6), 0 0 25px rgba(0, 255, 255, 0.3);\r\n    filter: blur(10px);\r\n  }\r\n}\r\n\r\n/* 外层边框动画 */\r\n@keyframes borderAnimation {\r\n  0% {\r\n    border-color: rgba(0, 255, 255, 0.7);\r\n    transform: rotate(0deg);\r\n  }\r\n  50% {\r\n    border-color: rgba(255, 255, 255, 0.9);\r\n    transform: rotate(10deg);\r\n  }\r\n  100% {\r\n    border-color: rgba(0, 255, 255, 0.7);\r\n    transform: rotate(0deg);\r\n  }\r\n}\r\n\r\n#lineChart {\r\n  width: 105%; /* 使图表宽度适应父容器 */\r\n  height: 270px; /* 调整图表高度，使其更加合适 */\r\n  color: white;\r\n}\r\n\r\n.topic_hot_top {\r\n  height: 10%;\r\n  margin-left: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start; /* 使\"发布统计\"在左边 */\r\n  color: white;\r\n}\r\n\r\n.topic_hot_top .radio {\r\n  position: relative;\r\n  margin-right: 20px;\r\n  top: 0;\r\n  margin-left: auto; /* 使单选按钮组对齐到右边 */\r\n  color: white;\r\n}\r\n\r\n.el-radio {\r\n  z-index: 99;\r\n  color: white;\r\n}\r\n\r\n\r\n\r\n@media (max-width: 768px) {\r\n  .topic_hot {\r\n    height: 10%; /* 在小屏幕上减小高度 */\r\n  }\r\n  #lineChart {\r\n    height: 200px; /* 调整图表高度 */\r\n  }\r\n}\r\n</style>\r\n"]}]}