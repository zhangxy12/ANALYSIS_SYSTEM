{"remainingRequest":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\mainscreen\\mood.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\mainscreen\\mood.vue","mtime":1741847300912},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1733210776030},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1733210773580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBzZW50aW1lbnRSYXRpbzogew0KICAgICAgICAgICAgICAgIHBvc2l0aXZlOiAwLA0KICAgICAgICAgICAgICAgIG5lZ2F0aXZlOiAwLA0KICAgICAgICAgICAgICAgIG5ldXRyYWw6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB0b3BQb3NpdGl2ZVdvcmRzOiBbXSwNCiAgICAgICAgICAgIHRvcE5lZ2F0aXZlV29yZHM6IFtdLA0KICAgICAgICAgICAgY2hhcnQ6IG51bGwNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIHRoaXMuaW5pdENoYXJ0KCk7DQogICAgICAgIHRoaXMuZmV0Y2hEYXRhKCk7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGluaXRDaGFydCgpIHsNCiAgICAgICAgICAgIHRoaXMuY2hhcnQgPSBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5zZW50aW1lbnRDaGFydCk7DQogICAgICAgICAgICB0aGlzLnVwZGF0ZUNoYXJ0KCk7DQogICAgICAgIH0sDQogICAgICAgIHVwZGF0ZUNoYXJ0KCkgew0KICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gew0KICAgICAgICAgICAgICAgIHRvb2x0aXA6IHsNCiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nLA0KICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6ICd7YX0gPGJyLz57Yn06IHtjfSAoe2R9JSknDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBzZXJpZXM6IFsNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+aDheaEn+WNoOavlCcsDQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGllJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogJzUwJScsDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogdGhpcy5zZW50aW1lbnRSYXRpby5wb3NpdGl2ZSwgbmFtZTogJ+enr+aegScsIGl0ZW1TdHlsZTogeyBjb2xvcjogJyMxZjc4YjQnIH0gfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiB0aGlzLnNlbnRpbWVudFJhdGlvLm5lZ2F0aXZlLCBuYW1lOiAn5raI5p6BJywgaXRlbVN0eWxlOiB7IGNvbG9yOiAnIzZiZDZkMScgfSB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IHRoaXMuc2VudGltZW50UmF0aW8ubmV1dHJhbCwgbmFtZTogJ+S4reaApycsIGl0ZW1TdHlsZTogeyBjb2xvcjogJyM5ZWNhZTEnIH0gfQ0KICAgICAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdvdXRzaWRlJywgLy8g5qCH562+5pi+56S65Zyo5aSW6YOoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25UbzogJ2VkZ2UnLCAvLyDmoIfnrb7lr7npvZDliLDovrnnvJgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDEgLy8g5qCH562+5LiO6Imy5Z2X55qE6Ze06LedDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxMaW5lOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiA2LCAvLyDnrKzkuIDmrrXnur/plb/luqYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGgyOiAyLCAvLyDnrKzkuozmrrXnur/plb/luqYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgIH07DQogICAgICAgICAgICB0aGlzLmNoYXJ0LnNldE9wdGlvbihvcHRpb24pOw0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBmZXRjaERhdGEoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvbWFpbi9hbGxfaG90X21vb2QnKTsNCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VudGltZW50UmF0aW8gPSBkYXRhLnNlbnRpbWVudF9yYXRpbzsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3BQb3NpdGl2ZVdvcmRzID0gZGF0YS50b3BfcG9zaXRpdmVfd29yZHM7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudG9wTmVnYXRpdmVXb3JkcyA9IGRhdGEudG9wX25lZ2F0aXZlX3dvcmRzOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNoYXJ0KCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign6K+35rGC5aSx6LSlOicsIHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCflj5HnlJ/plJnor686JywgZXJyb3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["mood.vue"],"names":[],"mappings":";AA+BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mood.vue","sourceRoot":"src/components/mainscreen","sourcesContent":["<template>\r\n    <div class=\"mood-container\">\r\n        \r\n        <div class=\"content-wrapper\">\r\n            <div class=\"left-chart\">\r\n                <h2><svg t=\"1741847242078\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5180\" width=\"15\" height=\"15\"><path d=\"M108.8 121.6v787.2h800V121.6z m51.2 51.2h697.6v678.4H160z\" p-id=\"5181\" fill=\"#ffffff\"></path><path d=\"M390.976 586.752c-10.816-1.792-21.312-4.544-32.448-7.424l-3.52-0.96-9.344-2.432a153.6 153.6 0 0 1-57.6-38.4 153.216 153.216 0 0 1-38.4-57.6 230.4 230.4 0 0 1-12.8-70.4 217.6 217.6 0 0 1 9.536-57.984l3.2-12.416a153.6 153.6 0 0 1 38.4-57.6 152.64 152.64 0 0 1 57.6-38.4 229.888 229.888 0 0 1 70.4-12.8 211.2 211.2 0 0 1 56.512 9.344l3.008 0.768 10.944 2.752a151.68 151.68 0 0 1 57.6 38.4 152.832 152.832 0 0 1 38.4 57.6 229.312 229.312 0 0 1 12.8 70.4v0.32c-4.544 0-8.704-0.32-12.8-0.32s-8.32 0-12.8 0.448V409.6a155.648 155.648 0 0 0-153.6-153.6 155.712 155.712 0 0 0-153.6 153.6 156.992 156.992 0 0 0 132.16 152.064 193.536 193.536 0 0 0-3.584 25.088z m25.088-81.216h-76.8a74.24 74.24 0 0 1 76.8-76.8 76.8 76.8 0 0 1 51.968 18.56 191.296 191.296 0 0 0-51.84 58.112z m64-115.2a27.712 27.712 0 0 1-25.6-25.6c0-12.8 6.4-19.2 25.6-25.6a27.712 27.712 0 0 1 25.6 25.6 27.648 27.648 0 0 1-25.6 25.6z m-121.6 0a27.712 27.712 0 0 1-25.6-25.6c0-12.8 6.4-19.2 25.6-25.6a27.392 27.392 0 0 1 25.6 25.6 27.328 27.328 0 0 1-25.6 25.6z\" p-id=\"5182\" fill=\"#ffffff\"></path><path d=\"M505.6 563.2a25.6 25.6 0 0 0 51.2 0 25.6 25.6 0 0 0-51.2 0z m115.2 0a25.6 25.6 0 1 0 25.6-25.6c-19.2 6.4-25.6 12.8-25.6 25.6z m32 70.4a70.4 70.4 0 1 1-140.8 0z\" p-id=\"5183\" fill=\"#ffffff\"></path><path d=\"M582.4 761.6a189.312 189.312 0 0 1-64-12.8 99.52 99.52 0 0 1-51.2-38.4 209.728 209.728 0 0 1-38.4-51.2 189.376 189.376 0 0 1-12.8-64 227.328 227.328 0 0 1 12.8-64 99.52 99.52 0 0 1 38.4-51.2c19.2-12.8 38.4-32 51.2-38.4a166.4 166.4 0 0 1 128 0 99.52 99.52 0 0 1 51.2 38.4 209.728 209.728 0 0 1 38.4 51.2 166.4 166.4 0 0 1 0 128 99.52 99.52 0 0 1-38.4 51.2 209.792 209.792 0 0 1-51.2 38.4 227.328 227.328 0 0 1-64 12.8z m0-307.2a140.8 140.8 0 1 0 140.8 140.8 142.08 142.08 0 0 0-140.8-140.8z\" p-id=\"5184\" fill=\"#ffffff\"></path></svg>     情感分析</h2>\r\n                <div ref=\"sentimentChart\" style=\"width: 96%; height: 210px; margin-bottom: 4px;\"></div>\r\n            </div>\r\n            <div class=\"right-words\">\r\n                <div class=\"positive-words\">\r\n                    <h3>正面高频词语</h3>\r\n                    <div class=\"word-list\">\r\n                        <span v-for=\"(word, index) in topPositiveWords\" :key=\"index\" class=\"p-word-item\">\r\n                            {{ word.name }}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"negative-words\">\r\n                    <h3>负面高频词语</h3>\r\n                    <div class=\"word-list\">\r\n                        <span v-for=\"(word, index) in topNegativeWords\" :key=\"index\" class=\"n-word-item\">\r\n                            {{ word.name }}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport * as echarts from 'echarts';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            sentimentRatio: {\r\n                positive: 0,\r\n                negative: 0,\r\n                neutral: 0\r\n            },\r\n            topPositiveWords: [],\r\n            topNegativeWords: [],\r\n            chart: null\r\n        };\r\n    },\r\n    mounted() {\r\n        this.initChart();\r\n        this.fetchData();\r\n    },\r\n    methods: {\r\n        initChart() {\r\n            this.chart = echarts.init(this.$refs.sentimentChart);\r\n            this.updateChart();\r\n        },\r\n        updateChart() {\r\n            const option = {\r\n                tooltip: {\r\n                    trigger: 'item',\r\n                    formatter: '{a} <br/>{b}: {c} ({d}%)'\r\n                },\r\n                series: [\r\n                    {\r\n                        name: '情感占比',\r\n                        type: 'pie',\r\n                        radius: '50%',\r\n                        data: [\r\n                            { value: this.sentimentRatio.positive, name: '积极', itemStyle: { color: '#1f78b4' } },\r\n                            { value: this.sentimentRatio.negative, name: '消极', itemStyle: { color: '#6bd6d1' } },\r\n                            { value: this.sentimentRatio.neutral, name: '中性', itemStyle: { color: '#9ecae1' } }\r\n                        ],\r\n                        label: {\r\n                            color: '#fff',\r\n                            fontSize: 12,\r\n                            position: 'outside', // 标签显示在外部\r\n                            alignTo: 'edge', // 标签对齐到边缘\r\n                            margin: 1 // 标签与色块的间距\r\n                        },\r\n                        labelLine: {\r\n                            length: 6, // 第一段线长度\r\n                            length2: 2, // 第二段线长度\r\n                            lineStyle: {\r\n                                color: '#fff'\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            };\r\n            this.chart.setOption(option);\r\n        },\r\n        async fetchData() {\r\n            try {\r\n                const response = await axios.get('/main/all_hot_mood');\r\n                if (response.data.code === 0) {\r\n                    const data = response.data.data;\r\n                    this.sentimentRatio = data.sentiment_ratio;\r\n                    this.topPositiveWords = data.top_positive_words;\r\n                    this.topNegativeWords = data.top_negative_words;\r\n                    this.updateChart();\r\n                } else {\r\n                    console.error('请求失败:', response.data.message);\r\n                }\r\n            } catch (error) {\r\n                console.error('发生错误:', error);\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2 {\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n    margin-bottom: 1px; /* 为标题下方添加一些间距 */\r\n    margin-left: 20px;\r\n}\r\n\r\n.mood-container {\r\n    display: flex;\r\n    flex-direction: column; /* 设置为纵向布局 */\r\n    color: #fff;\r\n}\r\n\r\n.content-wrapper {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.left-chart {\r\n    width: 59%;\r\n}\r\n\r\n.right-words {\r\n    width: 41%;\r\n}\r\n\r\n.positive-words,\r\n.negative-words {\r\n    margin-top: 8px;\r\n    margin-bottom: 5px;\r\n}\r\n\r\nh3 {\r\n    font-weight: 500;\r\n    margin-top: 0;\r\n    font-size: 14px;\r\n    color: #fffffff4;\r\n}\r\n\r\n.word-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 8px;\r\n}\r\n\r\n.p-word-item {\r\n    font-size: 12px;\r\n    color: #fff;\r\n    background-color: #0693f274;\r\n    padding: 4px 8px;\r\n}\r\n\r\n.n-word-item {\r\n    font-size: 12px;\r\n    color: #fff;\r\n    background-color: #6bd6d15f;\r\n    padding: 4px 8px;\r\n}\r\n</style>"]}]}