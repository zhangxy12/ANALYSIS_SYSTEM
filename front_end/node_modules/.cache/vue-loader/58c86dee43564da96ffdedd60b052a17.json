{"remainingRequest":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\WXAnalyze\\Word_cloud.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\WXAnalyze\\Word_cloud.vue","mtime":1737608197035},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1733210776030},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1733210773580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAid29yZF9jbG91ZCIsDQogICAgZGF0YSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIHRpbWVyOiAiIiwNCiAgICAgICAgbXlDaGFydDogIiIsDQogICAgICAgIGNsb3VkX3dvcmQ6ICIiLA0KICAgICAgfTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIGdldENsb3VkV29yZChpZCkgew0KICAgICAgICB0aGlzLiRheGlvcy5nZXQoIndvcmRfY2xvdWRfd3g/dGFnX3Rhc2tfaWQ9IiArIGlkKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkNCiAgICAgICAgICB0aGlzLmNsb3VkX3dvcmQgPSByZXMuZGF0YS5kYXRhLmRhdGE7DQogICAgICAgICAgdGhpcy5teVdvcmRDbG91ZChyZXMuZGF0YS5kYXRhLmRhdGEpOw0KICAgICAgICB9KTsNCiAgICAgIH0sDQogICAgICBteVdvcmRDbG91ZChkYXRhKSB7DQogICAgICAgIGxldCBvcHRpb247DQogICAgICAgIGlmICgNCiAgICAgICAgICB0aGlzLm15Q2hhcnQgIT0gbnVsbCAmJg0KICAgICAgICAgIHRoaXMubXlDaGFydCAhPSAiIiAmJg0KICAgICAgICAgIHRoaXMubXlDaGFydCAhPSB1bmRlZmluZWQNCiAgICAgICAgKSB7DQogICAgICAgICAgdGhpcy5teUNoYXJ0LmRpc3Bvc2UoKTsgLy/op6PlhrNlY2hhcnRzIGRvbeW3sue7j+WKoOi9veeahOaKpemUmQ0KICAgICAgICB9DQogICAgICAgIHRoaXMubXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdCgNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhcnNfd29yZF9jbG91ZCIpDQogICAgICAgICk7DQogICAgICAgIC8vIOaMh+WumuWbvuihqOeahOmFjee9rumhueWSjOaVsOaNrg0KICAgICAgICBvcHRpb24gPSB7DQogICAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgICAgc2hvdzogdHJ1ZSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHNlcmllczogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICB0eXBlOiAid29yZENsb3VkIiwNCiAgICAgICAgICAgICAgc2l6ZVJhbmdlOiBbMTAsIDUwXSwgLy/mloflrZfojIPlm7QNCiAgICAgICAgICAgICAgLy/mlofmnKzml4vovazojIPlm7TvvIzmlofmnKzlsIbpgJrov4dyb3RhdGlvblN0ZXA0NeWcqFstOTAsOTBd6IyD5Zu05YaF6ZqP5py65peL6L2sDQogICAgICAgICAgICAgIHJvdGF0aW9uUmFuZ2U6IFstNDUsIDkwXSwNCiAgICAgICAgICAgICAgcm90YXRpb25TdGVwOiA0NSwNCiAgICAgICAgICAgICAgdGV4dFJvdGF0aW9uOiBbMCwgNDUsIDkwLCAtNDVdLA0KICAgICAgICAgICAgICAvL+W9oueKtg0KICAgICAgICAgICAgICB0ZXh0U3R5bGU6IHsNCiAgICAgICAgICAgICAgICBjb2xvcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgLy/mloflrZfpopzoibLnmoTpmo/mnLroibINCiAgICAgICAgICAgICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAgICAgICAgICJyZ2IoIiArDQogICAgICAgICAgICAgICAgICAgIFsNCiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNTUgKyAyMDApLCAvLyDnuqLoibLliIbph4/vvJoyMDAtMjU1DQogICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDU1ICsgMjAwKSwgLy8g57u/6Imy5YiG6YeP77yaMjAwLTI1NQ0KICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1NSArIDIwMCksIC8vIOiTneiJsuWIhumHj++8mjIwMC0yNTUNCiAgICAgICAgICAgICAgICAgICAgXS5qb2luKCIsIikgKw0KICAgICAgICAgICAgICAgICAgICAiKSINCiAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgZGF0YTogZGF0YSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgXSwNCiAgICAgICAgfTsNCiAgICAgICAgdGhpcy5teUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOw0KICAgICAgICAvLyDkvb/nlKjliJrmjIflrprnmoTphY3nva7pobnlkozmlbDmja7mmL7npLrlm77ooajjgIINCiAgICAgICAgb3B0aW9uICYmIHRoaXMubXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsNCiAgICAgIH0sDQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICANCiAgICAgIHRoaXMuJGJ1cy4kb24oInNlbmRfdGFnX3Rhc2tfaWQiLCAodGFnX3Rhc2tfaWQpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coIui/memHjOaYr+ivjeS6kee7hOS7tizmlLbliLDkuobmlbDmja46IiwgdGFnX3Rhc2tfaWQpOw0KICAgICAgICB0aGlzLmdldENsb3VkV29yZCh0YWdfdGFza19pZCk7DQogICAgICB9KTsNCiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAgIHRoaXMubXlXb3JkQ2xvdWQodGhpcy5jbG91ZF93b3JkKTsNCiAgICAgIH0sIDUwMDApOw0KICAgIH0sDQogICAgYmVmb3JlRGVzdHJveSgpIHsNCiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCJzZW5kX3RhZ190YXNrX2lkIik7DQogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOw0KICAgICAgdGhpcy50aW1lciA9IG51bGw7DQogICAgfSwNCiAgfTsNCiAg"},{"version":3,"sources":["Word_cloud.vue"],"names":[],"mappings":";AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Word_cloud.vue","sourceRoot":"src/components/WXAnalyze","sourcesContent":["<template>\r\n    <div class=\"word_cloud\">\r\n      <div class=\"word_cloud_top\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-ciyuntu\"></use>\r\n        </svg>\r\n        <span class=\"title_text\"> 词云 </span>\r\n      </div>\r\n      <div class=\"show_words\">\r\n        <div id=\"chars_word_cloud\"></div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"word_cloud\",\r\n    data() {\r\n      return {\r\n        timer: \"\",\r\n        myChart: \"\",\r\n        cloud_word: \"\",\r\n      };\r\n    },\r\n    methods: {\r\n      getCloudWord(id) {\r\n        this.$axios.get(\"word_cloud_wx?tag_task_id=\" + id).then((res) => {\r\n          console.log(res.data)\r\n          this.cloud_word = res.data.data.data;\r\n          this.myWordCloud(res.data.data.data);\r\n        });\r\n      },\r\n      myWordCloud(data) {\r\n        let option;\r\n        if (\r\n          this.myChart != null &&\r\n          this.myChart != \"\" &&\r\n          this.myChart != undefined\r\n        ) {\r\n          this.myChart.dispose(); //解决echarts dom已经加载的报错\r\n        }\r\n        this.myChart = this.$echarts.init(\r\n          document.getElementById(\"chars_word_cloud\")\r\n        );\r\n        // 指定图表的配置项和数据\r\n        option = {\r\n          tooltip: {\r\n            show: true,\r\n          },\r\n          series: [\r\n            {\r\n              type: \"wordCloud\",\r\n              sizeRange: [10, 50], //文字范围\r\n              //文本旋转范围，文本将通过rotationStep45在[-90,90]范围内随机旋转\r\n              rotationRange: [-45, 90],\r\n              rotationStep: 45,\r\n              textRotation: [0, 45, 90, -45],\r\n              //形状\r\n              textStyle: {\r\n                color: function () {\r\n                  //文字颜色的随机色\r\n                  return (\r\n                    \"rgb(\" +\r\n                    [\r\n                    Math.round(Math.random() * 55 + 200), // 红色分量：200-255\r\n                    Math.round(Math.random() * 55 + 200), // 绿色分量：200-255\r\n                    Math.round(Math.random() * 55 + 200), // 蓝色分量：200-255\r\n                    ].join(\",\") +\r\n                    \")\"\r\n                  );\r\n                },\r\n              },\r\n              data: data,\r\n            },\r\n          ],\r\n        };\r\n        this.myChart.setOption(option);\r\n        // 使用刚指定的配置项和数据显示图表。\r\n        option && this.myChart.setOption(option);\r\n      },\r\n    },\r\n    mounted() {\r\n  \r\n      this.$bus.$on(\"send_tag_task_id\", (tag_task_id) => {\r\n        console.log(\"这里是词云组件,收到了数据:\", tag_task_id);\r\n        this.getCloudWord(tag_task_id);\r\n      });\r\n      this.timer = setInterval(() => {\r\n        this.myWordCloud(this.cloud_word);\r\n      }, 5000);\r\n    },\r\n    beforeDestroy() {\r\n      this.$bus.$off(\"send_tag_task_id\");\r\n      clearInterval(this.timer);\r\n      this.timer = null;\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scpoed>\r\n  .word_cloud {\r\n    border: 2px solid #fefeff6a; /* 深色边框 */\r\n    border-radius: 10px;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 30%;\r\n    background-color: #ffffff00;\r\n    color: #ffffff;\r\n    border: 2px solid #669ef3a5; /* 深色边框 */\r\n    border-radius: 10px;\r\n    \r\n    box-sizing: border-box;\r\n    background: #346ead63; /* 背景颜色 */\r\n    box-shadow: 0 0 15px rgba(233, 229, 238, 0.304), 0 0 25px rgba(63, 154, 87, 0.4); /* 外阴影 */\r\n  }\r\n  .word_cloud_top {\r\n    margin-left: 1px;\r\n  }\r\n  .w_title {\r\n    padding-top: 10px;\r\n    height: 50px;\r\n    text-align: center;\r\n    font-size: 20px;\r\n  }\r\n  #chars_word_cloud {\r\n    width: 360px;\r\n    height: 160px;\r\n    top: -10px;\r\n    position: relative;\r\n    margin-left: -10px;\r\n  }\r\n  .icon {\r\n    position: relative;\r\n    top: 8px;\r\n  }\r\n  </style>"]}]}