{"remainingRequest":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\all_detail\\Relation_graph.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\all_detail\\Relation_graph.vue","mtime":1743526727462},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1733210776367},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1733210776030},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1733210773580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJyZWxhdGlvbl9ncmFwaCIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNhdGVnb3JpZXM6IFsNCiAgICAgICAgew0KICAgICAgICAgIG5hbWU6ICIiLA0KICAgICAgICAgIGNvbG9yOiAiIzAwMDhGRiIsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAga2V5OiAnJywNCiAgICAgIGdyYXBoRGF0YTogbnVsbCwgLy8g55So5LqO5a2Y5YKo5LuO5ZCO56uv6I635Y+W55qE5Zu+5pWw5o2uDQogICAgICBleHBsb3Npb25EYXRhOiBudWxsLCAvLyDnlKjkuo7lrZjlgqjlvJXniIbngrnlm77nmoTmlbDmja4NCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgbXlSZWxhdGlvbkdyYXBoKGtleSkgew0KICAgICAgbGV0IG9wdGlvbjsNCiAgICAgIGxldCBteUNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzaG93X2dyYXBoIikpOw0KICAgICAgbXlDaGFydC5zaG93TG9hZGluZygpOw0KICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvdG9waWNfcmVsYXRpb25fZ3JhcGg/dG9waWM9JHtrZXl9YCkudGhlbigoZ3JhcGhSZXNwb25zZSkgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhncmFwaFJlc3BvbnNlKTsNCiAgICAgICAgdGhpcy5ncmFwaERhdGEgPSBncmFwaFJlc3BvbnNlLmRhdGEuZGF0YTsNCiAgICAgICAgaWYgKCF0aGlzLmdyYXBoRGF0YSkgcmV0dXJuOw0KDQogICAgICAgIGxldCBub2RlcyA9IHRoaXMuZ3JhcGhEYXRhLm5vZGVzX2xpc3Q7DQogICAgICAgIGZvciAobGV0IGluZGV4IGluIG5vZGVzKSB7DQogICAgICAgICAgbm9kZXNbaW5kZXhdLmlkID0gaW5kZXg7DQogICAgICAgIH0NCiAgICAgICAgbGV0IGxpbmtzID0gdGhpcy5ncmFwaERhdGEubGlua3NfbGlzdDsNCiAgICAgICAgbGlua3MuZm9yRWFjaCgobGluaykgPT4gew0KICAgICAgICAgIGZvciAobGV0IG5vZGUgb2Ygbm9kZXMpIHsNCiAgICAgICAgICAgIGlmIChsaW5rLnNvdXJjZSA9PT0gbm9kZS5uYW1lKSB7DQogICAgICAgICAgICAgIGxpbmsuc291cmNlID0gbm9kZS5pZDsNCiAgICAgICAgICAgICAgbm9kZS5zaG93ID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChsaW5rLnRhcmdldCA9PT0gbm9kZS5uYW1lKSB7DQogICAgICAgICAgICAgIGxpbmsudGFyZ2V0ID0gbm9kZS5pZDsNCiAgICAgICAgICAgICAgbm9kZS5zaG93ID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIGNvbnNvbGUubG9nKCfovazmjaLlkI7nmoToioLngrk6Jywgbm9kZXMpOyAvLyDmt7vliqDosIPor5Xkv6Hmga8NCiAgICAgICAgY29uc29sZS5sb2coJ+i9rOaNouWQjueahOi+uTonLCBsaW5rcyk7IC8vIOa3u+WKoOiwg+ivleS/oeaBrw0KDQogICAgICAgIGxldCBuZXdOb2RlcyA9IFtdOw0KICAgICAgICBmb3IgKGxldCBuIGluIG5vZGVzKSB7DQogICAgICAgICAgaWYgKG5vZGVzW25dLnNob3cpIHsNCiAgICAgICAgICAgIG5ld05vZGVzLnB1c2gobm9kZXNbbl0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIG15Q2hhcnQuaGlkZUxvYWRpbmcoKTsNCiAgICAgICAgbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4gew0KICAgICAgICAgIG5vZGUubGFiZWwgPSB7DQogICAgICAgICAgICBzaG93OiBub2RlLnZhbHVlID4gMjAsDQogICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLA0KICAgICAgICAgIH07DQogICAgICAgIH0pOw0KDQogICAgICAgIG9wdGlvbiA9IHsNCiAgICAgICAgICB0b29sdGlwOiB7fSwNCiAgICAgICAgICBsZWdlbmQ6IFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgZGF0YTogdGhpcy5jYXRlZ29yaWVzLm1hcCgoYSkgPT4gYS5uYW1lKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgXSwNCiAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogMTUwMCwNCiAgICAgICAgICBhbmltYXRpb25FYXNpbmdVcGRhdGU6ICJxdWludGljSW5PdXQiLA0KICAgICAgICAgIHNlcmllczogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBuYW1lOiAi55So5oi35YWz57O75Zu+IiwNCiAgICAgICAgICAgICAgdHlwZTogImdyYXBoIiwNCiAgICAgICAgICAgICAgbGF5b3V0OiAiZm9yY2UiLA0KICAgICAgICAgICAgICBmb3JjZTogew0KICAgICAgICAgICAgICAgIHJlcHVsc2lvbjogMTUwLCAgLy8g5aKe5aSn6IqC54K56Ze05pal5Yqb77yM6Ziy5q2i6YeN5Y+gDQogICAgICAgICAgICAgICAgZWRnZUxlbmd0aDogNTAsICAvLyDlop7lpKfovrnnmoTnkIbmg7Pplb/luqYNCiAgICAgICAgICAgICAgICBncmF2aXR5OiAwLjMgICAgICAvLyDpmY3kvY7lkJHlv4PlipvvvIzorqnoioLngrnmm7TliIbmlaMNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgZGF0YTogbmV3Tm9kZXMsDQogICAgICAgICAgICAgIGxpbmtzOiBsaW5rcywNCiAgICAgICAgICAgICAgY2F0ZWdvcmllczogdGhpcy5jYXRlZ29yaWVzLA0KICAgICAgICAgICAgICByb2FtOiB0cnVlLA0KICAgICAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAicmlnaHQiLA0KICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogIntifSIsDQogICAgICAgICAgICAgICAgY29sb3I6ICIjZmZmZmZmIiwgLy8g6K6+572u5qCH562+5paH5a2X5Li655m96ImyDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIGxpbmVTdHlsZTogew0KICAgICAgICAgICAgICAgIGNvbG9yOiAiIzAwRkZGRiIsIC8vIOmdkuiJsueahOe6v+adoeminOiJsg0KICAgICAgICAgICAgICAgIGN1cnZlbmVzczogMC4zLA0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICBpdGVtU3R5bGU6IHsNCiAgICAgICAgICAgICAgICBjb2xvcjogIiMzZGUxYWQiLCAvLyDov5nph4zlsIbpopzoibLorr7nva7kuLrmqZnoibLvvIzkvaDlj6/ku6XmjaLmiJDkvaDmg7PopoHnmoTku7vkvZXpopzoibINCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgZW1waGFzaXM6IHsNCiAgICAgICAgICAgICAgICBmb2N1czogImFkamFjZW5jeSIsDQogICAgICAgICAgICAgICAgbGluZVN0eWxlOiB7DQogICAgICAgICAgICAgICAgICB3aWR0aDogNywNCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAiIzAwRkZGRiIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBub2RlU3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAiI0ZGMDBGRiIsIC8vIOi/memHjOWwhuaCrOWBnOminOiJsuiuvue9ruS4uue0q+iJsu+8jOS9oOWPr+S7peaNouaIkOS9oOaDs+imgeeahOS7u+S9leminOiJsg0KICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDUsDQogICAgICAgICAgICAgICAgICBzaGFkb3dCbHVyOiAyMCwNCiAgICAgICAgICAgICAgICAgIHNoYWRvd0NvbG9yOiAncmdiYSgwLDAsMCwwLjMpJywgLy8g5aKe5Yqg6Zi05b2x5pWI5p6cDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgXSwNCiAgICAgICAgfTsNCg0KICAgICAgICBteUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOw0KDQogICAgICAgIC8vIOWkhOeQhuW8leeIhueCueWbvueahOaVsOaNru+8jOetm+mAieWHunZhbHVl5YmNNeeahOeCuQ0KICAgICAgICB0aGlzLmV4cGxvc2lvbkRhdGEgPSBub2Rlcy5zb3J0KChhLCBiKSA9PiBiLnZhbHVlIC0gYS52YWx1ZSkuc2xpY2UoMCwgNSk7DQogICAgICAgIHRoaXMuZHJhd0V4cGxvc2lvbkdyYXBoKCk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGRyYXdFeHBsb3Npb25HcmFwaCgpIHsNCiAgICAgIGlmICghdGhpcy5leHBsb3Npb25EYXRhKSByZXR1cm47DQogICAgICBsZXQgZXhwbG9zaW9uRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4cGxvc2lvbl9ncmFwaCcpOw0KICAgICAgZXhwbG9zaW9uRGl2LmlubmVySFRNTCA9ICcnOyAvLyDmuIXnqbrlrrnlmajlhoXlrrkNCg0KICAgICAgLy8g5Yib5bu65qCH6aKY5YWD57Sg5bm25re75Yqg5Yiw5a655Zmo5LitDQogICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gIuW8leeIhueCuSI7DQogICAgICB0aXRsZS5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnOw0KICAgICAgdGl0bGUuc3R5bGUubWFyZ2luQm90dG9tID0gJzVweCc7DQogICAgICBleHBsb3Npb25EaXYuYXBwZW5kQ2hpbGQodGl0bGUpOw0KDQogICAgICB0aGlzLmV4cGxvc2lvbkRhdGEuZm9yRWFjaCgobm9kZSkgPT4gew0KICAgICAgICBsZXQgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICBpdGVtLnRleHRDb250ZW50ID0gYCR7bm9kZS5uYW1lfTogJHtub2RlLnZhbHVlfWA7DQogICAgICAgIGl0ZW0uc3R5bGUubWFyZ2luQm90dG9tID0gJzVweCc7DQogICAgICAgIGV4cGxvc2lvbkRpdi5hcHBlbmRDaGlsZChpdGVtKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgVG9QZXJzb25MaXN0KCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBwYXRoOiAiL3RvcGljX3BlcnNvbl9saXN0IiwNCiAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICBrZXk6IHRoaXMua2V5LA0KICAgICAgICB9LA0KICAgICAgfSk7DQogICAgfSwNCiAgICBhc3luYyBmZXRjaERhdGEoKSB7DQogICAgICB0cnkgew0KICAgICAgICB0aGlzLmtleSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmtleTsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoYC9zdGFydF90b3BpYz90b3BpYz0ke3RoaXMua2V5fWApOw0KICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7DQogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDApIHsNCiAgICAgICAgICAvLyBjb25zdCBncmFwaFJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KGAvdG9waWNfcmVsYXRpb25fZ3JhcGg/dG9waWM9JHt0aGlzLmtleX1gKTsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhncmFwaFJlc3BvbnNlKTsNCiAgICAgICAgICAvLyB0aGlzLmdyYXBoRGF0YSA9IGdyYXBoUmVzcG9uc2UuZGF0YS5kYXRhOw0KICAgICAgICAgIHRoaXMubXlSZWxhdGlvbkdyYXBoKHRoaXMua2V5KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bmlbDmja7lpLHotKU6JywgcmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcign6K+35rGC5Ye66ZSZOicsIGVycm9yKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMua2V5ID0gdGhpcy4kcm91dGUucXVlcnkua2V5Ow0KICAgIC8vIHRoaXMuJGF4aW9zLmdldChgL3RvcGljX3JlbGF0aW9uX2dyYXBoP3RvcGljPSR7dGhpcy5rZXl9YCkudGhlbigoKSA9PiB7DQogICAgLy8gICB0aGlzLm15UmVsYXRpb25HcmFwaCh0aGlzLmtleSk7DQogICAgLy8gfSk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["Relation_graph.vue"],"names":[],"mappings":";AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Relation_graph.vue","sourceRoot":"src/components/all_detail","sourcesContent":["<template>\r\n  <div class=\"relation_graph\" style=\"height: 98%; position: relative;\">\r\n    <div class=\"relation_graph_top_row\" style=\"align-items: center;\">\r\n      <div class=\"relation_graph_top\" @click=\"ToPersonList\">\r\n        <span class=\"clickable-text\">\r\n          <svg t=\"1741612751651\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3395\" width=\"200\" height=\"200\">\r\n            <path d=\"M824.888889 682.666667c-28.444444 0-56.888889 11.377778-79.644445 22.755555l-45.511111-45.511111c22.755556-34.133333 39.822222-73.955556 39.822223-119.466667 0-62.577778-28.444444-119.466667-73.955556-153.6l22.755556-45.511111h22.755555C790.755556 341.333333 853.333333 278.755556 853.333333 199.111111S790.755556 56.888889 711.111111 56.888889 568.888889 119.466667 568.888889 199.111111c0 51.2 28.444444 91.022222 62.577778 119.466667l-17.066667 39.822222c-22.755556-11.377778-45.511111-17.066667-73.955556-17.066667C432.355556 341.333333 341.333333 432.355556 341.333333 540.444444c0 28.444444 5.688889 51.2 17.066667 73.955556l-39.822222 17.066667c-28.444444-34.133333-68.266667-62.577778-119.466667-62.577778C119.466667 568.888889 56.888889 631.466667 56.888889 711.111111S119.466667 853.333333 199.111111 853.333333 341.333333 790.755556 341.333333 711.111111v-22.755555l45.511111-22.755556c34.133333 45.511111 91.022222 73.955556 153.6 73.955556 45.511111 0 85.333333-17.066667 119.466667-39.822223l45.511111 45.511111c-11.377778 22.755556-22.755556 51.2-22.755555 79.644445 0 79.644444 62.577778 142.222222 142.222222 142.222222s142.222222-62.577778 142.222222-142.222222-62.577778-142.222222-142.222222-142.222222z m-113.777778-568.888889c45.511111 0 85.333333 39.822222 85.333333 85.333333S756.622222 284.444444 711.111111 284.444444 625.777778 244.622222 625.777778 199.111111 665.6 113.777778 711.111111 113.777778z m-512 682.666666c-45.511111 0-85.333333-39.822222-85.333333-85.333333S153.6 625.777778 199.111111 625.777778s85.333333 39.822222 85.333333 85.333333S244.622222 796.444444 199.111111 796.444444zM398.222222 540.444444C398.222222 460.8 460.8 398.222222 540.444444 398.222222S682.666667 460.8 682.666667 540.444444 620.088889 682.666667 540.444444 682.666667 398.222222 620.088889 398.222222 540.444444z m426.666667 369.777778c-45.511111 0-85.333333-39.822222-85.333333-85.333333s39.822222-85.333333 85.333333-85.333333 85.333333 39.822222 85.333333 85.333333-39.822222 85.333333-85.333333 85.333333z\" fill=\"#ffffff\" p-id=\"3396\"></path>\r\n          </svg>\r\n          关系图\r\n        </span>\r\n      </div>\r\n      <button @click=\"fetchData\" class=\"tech-button\">获取数据</button>\r\n    </div>\r\n    <div id=\"show_graph\" style=\"position: relative;\"></div>\r\n    <div id=\"explosion_graph\" style=\"position: absolute; bottom: 1px; left: 10px; width: 200px; height: 150px; color: white; display: flex; flex-direction: column; justify-content: center; align-items: center;\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: \"relation_graph\",\r\n  data() {\r\n    return {\r\n      categories: [\r\n        {\r\n          name: \"\",\r\n          color: \"#0008FF\",\r\n        },\r\n      ],\r\n      key: '',\r\n      graphData: null, // 用于存储从后端获取的图数据\r\n      explosionData: null, // 用于存储引爆点图的数据\r\n    };\r\n  },\r\n  methods: {\r\n    myRelationGraph(key) {\r\n      let option;\r\n      let myChart = this.$echarts.init(document.getElementById(\"show_graph\"));\r\n      myChart.showLoading();\r\n      this.$axios.get(`/topic_relation_graph?topic=${key}`).then((graphResponse) => {\r\n        console.log(graphResponse);\r\n        this.graphData = graphResponse.data.data;\r\n        if (!this.graphData) return;\r\n\r\n        let nodes = this.graphData.nodes_list;\r\n        for (let index in nodes) {\r\n          nodes[index].id = index;\r\n        }\r\n        let links = this.graphData.links_list;\r\n        links.forEach((link) => {\r\n          for (let node of nodes) {\r\n            if (link.source === node.name) {\r\n              link.source = node.id;\r\n              node.show = true;\r\n            }\r\n            if (link.target === node.name) {\r\n              link.target = node.id;\r\n              node.show = true;\r\n            }\r\n          }\r\n        });\r\n\r\n        console.log('转换后的节点:', nodes); // 添加调试信息\r\n        console.log('转换后的边:', links); // 添加调试信息\r\n\r\n        let newNodes = [];\r\n        for (let n in nodes) {\r\n          if (nodes[n].show) {\r\n            newNodes.push(nodes[n]);\r\n          }\r\n        }\r\n\r\n        myChart.hideLoading();\r\n        nodes.forEach((node) => {\r\n          node.label = {\r\n            show: node.value > 20,\r\n            color: '#ffffff',\r\n          };\r\n        });\r\n\r\n        option = {\r\n          tooltip: {},\r\n          legend: [\r\n            {\r\n              data: this.categories.map((a) => a.name),\r\n            },\r\n          ],\r\n          animationDuration: 1500,\r\n          animationEasingUpdate: \"quinticInOut\",\r\n          series: [\r\n            {\r\n              name: \"用户关系图\",\r\n              type: \"graph\",\r\n              layout: \"force\",\r\n              force: {\r\n                repulsion: 150,  // 增大节点间斥力，防止重叠\r\n                edgeLength: 50,  // 增大边的理想长度\r\n                gravity: 0.3      // 降低向心力，让节点更分散\r\n              },\r\n              data: newNodes,\r\n              links: links,\r\n              categories: this.categories,\r\n              roam: true,\r\n              label: {\r\n                position: \"right\",\r\n                formatter: \"{b}\",\r\n                color: \"#ffffff\", // 设置标签文字为白色\r\n              },\r\n              lineStyle: {\r\n                color: \"#00FFFF\", // 青色的线条颜色\r\n                curveness: 0.3,\r\n              },\r\n              itemStyle: {\r\n                color: \"#3de1ad\", // 这里将颜色设置为橙色，你可以换成你想要的任何颜色\r\n              },\r\n              emphasis: {\r\n                focus: \"adjacency\",\r\n                lineStyle: {\r\n                  width: 7,\r\n                  color: \"#00FFFF\",\r\n                },\r\n                nodeStyle: {\r\n                  color: \"#FF00FF\", // 这里将悬停颜色设置为紫色，你可以换成你想要的任何颜色\r\n                  borderWidth: 5,\r\n                  shadowBlur: 20,\r\n                  shadowColor: 'rgba(0,0,0,0.3)', // 增加阴影效果\r\n                },\r\n              },\r\n            },\r\n          ],\r\n        };\r\n\r\n        myChart.setOption(option);\r\n\r\n        // 处理引爆点图的数据，筛选出value前5的点\r\n        this.explosionData = nodes.sort((a, b) => b.value - a.value).slice(0, 5);\r\n        this.drawExplosionGraph();\r\n      });\r\n    },\r\n    drawExplosionGraph() {\r\n      if (!this.explosionData) return;\r\n      let explosionDiv = document.getElementById('explosion_graph');\r\n      explosionDiv.innerHTML = ''; // 清空容器内容\r\n\r\n      // 创建标题元素并添加到容器中\r\n      let title = document.createElement('div');\r\n      title.textContent = \"引爆点\";\r\n      title.style.fontWeight = 'bold';\r\n      title.style.marginBottom = '5px';\r\n      explosionDiv.appendChild(title);\r\n\r\n      this.explosionData.forEach((node) => {\r\n        let item = document.createElement('div');\r\n        item.textContent = `${node.name}: ${node.value}`;\r\n        item.style.marginBottom = '5px';\r\n        explosionDiv.appendChild(item);\r\n      });\r\n    },\r\n    ToPersonList() {\r\n      this.$router.push({\r\n        path: \"/topic_person_list\",\r\n        query: {\r\n          key: this.key,\r\n        },\r\n      });\r\n    },\r\n    async fetchData() {\r\n      try {\r\n        this.key = this.$route.query.key;\r\n        const response = await this.$axios.get(`/start_topic?topic=${this.key}`);\r\n        console.log(response);\r\n        if (response.data.code === 0) {\r\n          // const graphResponse = await this.$axios.get(`/topic_relation_graph?topic=${this.key}`);\r\n          // console.log(graphResponse);\r\n          // this.graphData = graphResponse.data.data;\r\n          this.myRelationGraph(this.key);\r\n        } else {\r\n          console.error('获取数据失败:', response.data.message);\r\n        }\r\n      } catch (error) {\r\n        console.error('请求出错:', error);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.key = this.$route.query.key;\r\n    // this.$axios.get(`/topic_relation_graph?topic=${this.key}`).then(() => {\r\n    //   this.myRelationGraph(this.key);\r\n    // });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tech-button {\r\n    \r\n    /* 布局 */\r\n    padding: 8px 14px;\r\n    position: relative;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-top: 14px;\r\n    /* 文字 */\r\n    font-size: 13px;\r\n    font-weight: 600;\r\n    letter-spacing: 0.5px;\r\n    color: #fff;\r\n    text-transform: uppercase;\r\n    \r\n    /* 背景与边框 */\r\n    background: linear-gradient(135deg, #15bac0 0%, #2663be 100%);\r\n    border: none;\r\n    border-radius: 8px;\r\n    \r\n    /* 光影效果 */\r\n    box-shadow: \r\n        0 4px 20px rgba(5, 40, 108, 0.3),\r\n        inset 0 2px 4px rgba(255, 255, 255, 0.1);\r\n    \r\n    /* 交互效果 */\r\n    cursor: pointer;\r\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n    overflow: hidden;\r\n}\r\n\r\n/* 悬停状态 */\r\n.tech-button:hover {\r\n    transform: translateY(-1px);\r\n    background: linear-gradient(135deg, #2663be 0%, #15bac0 100%);\r\n    box-shadow: \r\n        0 6px 24px rgba(5, 40, 108, 0.4),\r\n        inset 0 3px 6px rgba(255, 255, 255, 0.15);\r\n}\r\n\r\n/* 点击状态 */\r\n.tech-button:active {\r\n    transform: translateY(1px);\r\n    box-shadow: \r\n        0 2px 12px rgba(5, 40, 108, 0.2),\r\n        inset 0 1px 2px rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n/* 科技感边框高光 (可选) */\r\n.tech-button::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    border-radius: 6px;\r\n    border: 1px solid rgba(255, 255, 255, 0.15);\r\n    pointer-events: none;\r\n}\r\n\r\n/* 动态流光效果 (可选) */\r\n.tech-button::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: -50%;\r\n    left: -50%;\r\n    width: 200%;\r\n    height: 200%;\r\n    background: linear-gradient(\r\n        45deg,\r\n        transparent 25%,\r\n        rgba(255, 255, 255, 0.1) 50%,\r\n        transparent 75%\r\n    );\r\n    animation: techFlow 4s infinite linear;\r\n    opacity: 0.3;\r\n}\r\n\r\n@keyframes techFlow {\r\n    0% { transform: translateX(-25%) translateY(-25%); }\r\n    100% { transform: translateX(25%) translateY(25%); }\r\n}\r\n.clickable-text {\r\n  cursor: pointer; /* 鼠标指针变为手形，表示可点击 */\r\n  color: #ffffff; /* 默认文字颜色 */\r\n  transition: color 0.3s ease; /* 添加颜色过渡效果 */\r\n}\r\n\r\n.clickable-text:hover {\r\n  color: #00FFFF; /* 悬停时文字颜色改变 */\r\n}\r\n\r\n.relation_graph_top_row {\r\n  margin-left: 40%;\r\n  font-size: 20px;\r\n  font-weight: 600 ;\r\n \r\n  margin-top: 17px;\r\n  display: flex;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n.relation_graph_top {\r\n  color:#ffffff;\r\n  display: flex;\r\n  text-align: center;\r\n  margin-right: 20px; /* 可以根据需要调整间距 */\r\n}\r\n\r\n.icon {\r\n  margin-right: 5px; /* 图标和文字之间的间距 */\r\n}\r\n\r\n.relation_graph {\r\n  flex-direction: column; /* 垂直排列子元素 */\r\n  margin-top: 0px;\r\n  background-color:rgba(254, 254, 255, 0);\r\n  position: relative;\r\n  width: 93%;\r\n  height: 90%;\r\n  text-align: center;\r\n  cursor: pointer; /* 改变鼠标指针为手形 */\r\n  color: #ffffff;\r\n  border: 2px solid #669ef3a5; /* 深色边框 */\r\n  border-radius: 10px;\r\n  \r\n  box-sizing: border-box;\r\n  box-shadow: 0 0 15px rgba(233, 229, 238, 0.304), 0 0 25px rgba(63, 154, 87, 0.4); /* 外阴影 */\r\n}\r\n\r\n.relation_graph:hover {\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* 鼠标悬浮时加上阴影效果 */\r\n}\r\n#show_graph {\r\n  \r\n  width: 100%;\r\n  height: 450px; /* 或使用 calc(100% - 50px) 等动态值 */\r\n}\r\n\r\n#explosion_graph {\r\n  width: 100%; height: 100%;\r\n    background-color: rgba(126, 119, 119, 0.192); /* 半透明黑色背景 */\r\n    border: 1px solid rgba(255, 255, 255, 0.2); /* 淡色边框 */\r\n    box-shadow: 0 0 5px rgba(10, 122, 133, 0.5); /* 阴影 */\r\n}\r\n</style>"]}]}