{"remainingRequest":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\all_detail\\time.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\all_detail\\time.vue","mtime":1741607272942},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\babel.config.js","mtime":1732591727371},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1733210776030},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1733210773580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ0aW1lIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmFkaW86IDEsCiAgICAgIGtleTogJycsCiAgICAgIHRpbWVEYXRhOiB7fSwKICAgICAgYW5hbHlzaXM6IHsKICAgICAgICBzdGFydDogJycsCiAgICAgICAgc3ByZWFkOiAnJywKICAgICAgICBjbGltYXg6ICcnLAogICAgICAgIGZhZGU6ICcnCiAgICAgIH0sCiAgICAgIGRvbWluYW50UGxhdGZvcm06ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMua2V5ID0gdGhpcy4kcm91dGUucXVlcnkua2V5OwogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGZldGNoRGF0YSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgL3RvcGljUG9zdD9rZXk9JHtlbmNvZGVVUklDb21wb25lbnQodGhpcy5rZXkpfWApOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIHRoaXMudGltZURhdGEgPSB0aGlzLmZpbHRlclNpeE1vbnRoc0RhdGEocmVzcG9uc2UuZGF0YS5kYXRhKTsKICAgICAgICAgIHRoaXMuYW5hbHl6ZVN0YWdlcygpOwogICAgICAgICAgdGhpcy5maW5kRG9taW5hbnRQbGF0Zm9ybSgpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bmlbDmja7lh7rplJk6JywgZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgZmlsdGVyU2l4TW9udGhzRGF0YShkYXRhKSB7CiAgICAgIGNvbnN0IHNpeE1vbnRoc0FnbyA9IG5ldyBEYXRlKCk7CiAgICAgIHNpeE1vbnRoc0Fnby5zZXRNb250aChzaXhNb250aHNBZ28uZ2V0TW9udGgoKSAtIDEyKTsKICAgICAgY29uc3QgZmlsdGVyZWREYXRhID0gewogICAgICAgIHJlbm1pbl9kYXRlX2NvdW50OiB7fSwKICAgICAgICB0aWViYV9kYXRlX2NvdW50OiB7fSwKICAgICAgICB3ZWNoYXRfZGF0ZV9jb3VudDoge30sCiAgICAgICAgd2VpYm9fZGF0ZV9jb3VudDoge30KICAgICAgfTsKICAgICAgY29uc3QgcGxhdGZvcm1zID0gWydyZW5taW5fZGF0ZV9jb3VudCcsICd0aWViYV9kYXRlX2NvdW50JywgJ3dlY2hhdF9kYXRlX2NvdW50JywgJ3dlaWJvX2RhdGVfY291bnQnXTsKICAgICAgcGxhdGZvcm1zLmZvckVhY2gocGxhdGZvcm0gPT4gewogICAgICAgIGZvciAoY29uc3QgW2RhdGUsIGNvdW50XSBvZiBPYmplY3QuZW50cmllcyhkYXRhW3BsYXRmb3JtXSkpIHsKICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoZGF0ZSk7CiAgICAgICAgICBpZiAoY3VycmVudERhdGUgPj0gc2l4TW9udGhzQWdvKSB7CiAgICAgICAgICAgIGZpbHRlcmVkRGF0YVtwbGF0Zm9ybV1bZGF0ZV0gPSBjb3VudDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZmlsdGVyZWREYXRhOwogICAgfSwKICAgIGFuYWx5emVTdGFnZXMoKSB7CiAgICAgIGNvbnN0IGFsbERhdGEgPSB7CiAgICAgICAgLi4udGhpcy50aW1lRGF0YS5yZW5taW5fZGF0ZV9jb3VudCwKICAgICAgICAuLi50aGlzLnRpbWVEYXRhLnRpZWJhX2RhdGVfY291bnQsCiAgICAgICAgLi4udGhpcy50aW1lRGF0YS53ZWNoYXRfZGF0ZV9jb3VudCwKICAgICAgICAuLi50aGlzLnRpbWVEYXRhLndlaWJvX2RhdGVfY291bnQKICAgICAgfTsKICAgICAgY29uc3Qgc29ydGVkRGF0ZXMgPSBPYmplY3Qua2V5cyhhbGxEYXRhKS5zb3J0KCk7CiAgICAgIGlmIChzb3J0ZWREYXRlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5hbmFseXNpcy5zdGFydCA9IHNvcnRlZERhdGVzWzBdOwogICAgICB9CiAgICAgIGxldCBwcmV2Q291bnQgPSAwOwogICAgICBsZXQgc3RhZ2UgPSAnc3RhcnQnOwogICAgICBsZXQgbGFzdERhdGUgPSBudWxsOwogICAgICBsZXQgY2xpbWF4RGF0ZSA9IG51bGw7CiAgICAgIGxldCBzcHJlYWRQZWFrID0gMDsKICAgICAgZm9yIChjb25zdCBkYXRlIG9mIHNvcnRlZERhdGVzKSB7CiAgICAgICAgY29uc3QgY291bnQgPSBhbGxEYXRhW2RhdGVdOwogICAgICAgIGlmIChjb3VudCA+IHByZXZDb3VudCkgewogICAgICAgICAgaWYgKHN0YWdlID09PSAnc3RhcnQnKSB7CiAgICAgICAgICAgIHN0YWdlID0gJ3NwcmVhZCc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChjb3VudCA9PT0gTWF0aC5tYXgoLi4uT2JqZWN0LnZhbHVlcyhhbGxEYXRhKSkpIHsKICAgICAgICAgIHN0YWdlID0gJ2NsaW1heCc7CiAgICAgICAgICBjbGltYXhEYXRlID0gZGF0ZTsKICAgICAgICB9CiAgICAgICAgaWYgKGNsaW1heERhdGUpIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoY291bnQgPiBzcHJlYWRQZWFrKSB7CiAgICAgICAgICBzcHJlYWRQZWFrID0gY291bnQ7CiAgICAgICAgICB0aGlzLmFuYWx5c2lzLnNwcmVhZCA9IGRhdGU7CiAgICAgICAgfQogICAgICAgIHByZXZDb3VudCA9IGNvdW50OwogICAgICAgIGxhc3REYXRlID0gZGF0ZTsKICAgICAgfQogICAgICBpZiAoY2xpbWF4RGF0ZSkgewogICAgICAgIHRoaXMuYW5hbHlzaXMuY2xpbWF4ID0gY2xpbWF4RGF0ZTsKICAgICAgfQoKICAgICAgLy8g57un57ut6YGN5Y6G5om+6YCA5pWj6Zi25q61CiAgICAgIGxldCBpc0ZhZGUgPSBmYWxzZTsKICAgICAgZm9yIChjb25zdCBkYXRlIG9mIHNvcnRlZERhdGVzKSB7CiAgICAgICAgaWYgKGRhdGUgPT09IGNsaW1heERhdGUpIHsKICAgICAgICAgIGlzRmFkZSA9IHRydWU7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgaWYgKGlzRmFkZSAmJiBhbGxEYXRhW2RhdGVdIDwgYWxsRGF0YVtjbGltYXhEYXRlXSkgewogICAgICAgICAgdGhpcy5hbmFseXNpcy5mYWRlID0gZGF0ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8g5aSE55CG5pyA5ZCO5pel5pyf5LuN5aSE5LqO6auY5r2u6Zi25q6155qE5oOF5Ya1CiAgICAgIGlmIChsYXN0RGF0ZSA9PT0gdGhpcy5hbmFseXNpcy5jbGltYXgpIHsKICAgICAgICB0aGlzLmFuYWx5c2lzLmZhZGUgPSAn5pyq6YCA5pWjJzsKICAgICAgfQoKICAgICAgLy8g56Gu5L+d5pel5pyf5L6d5qyh5aKe5YqgCiAgICAgIGlmICh0aGlzLmFuYWx5c2lzLnNwcmVhZCA8IHRoaXMuYW5hbHlzaXMuc3RhcnQpIHsKICAgICAgICB0aGlzLmFuYWx5c2lzLnNwcmVhZCA9IHRoaXMuYW5hbHlzaXMuc3RhcnQ7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuYW5hbHlzaXMuY2xpbWF4IDwgdGhpcy5hbmFseXNpcy5zcHJlYWQpIHsKICAgICAgICB0aGlzLmFuYWx5c2lzLmNsaW1heCA9IHRoaXMuYW5hbHlzaXMuc3ByZWFkOwogICAgICB9CiAgICAgIGlmICh0aGlzLmFuYWx5c2lzLmZhZGUgIT09ICfmnKrpgIDmlaMnICYmIHRoaXMuYW5hbHlzaXMuZmFkZSA8IHRoaXMuYW5hbHlzaXMuY2xpbWF4KSB7CiAgICAgICAgdGhpcy5hbmFseXNpcy5mYWRlID0gJ+acqumAgOaVoyc7CiAgICAgIH0KICAgIH0sCiAgICBmaW5kRG9taW5hbnRQbGF0Zm9ybSgpIHsKICAgICAgY29uc3Qgc3RhZ2VXZWlnaHRzID0gewogICAgICAgIHN0YXJ0OiAwLjEsCiAgICAgICAgc3ByZWFkOiAwLjMsCiAgICAgICAgY2xpbWF4OiAwLjYsCiAgICAgICAgZmFkZTogMC4wCiAgICAgIH07CiAgICAgIGNvbnN0IHBsYXRmb3JtU2NvcmVzID0gewogICAgICAgICfkurrmsJHnvZEnOiAwLAogICAgICAgICfotLTlkKcnOiAwLAogICAgICAgICflvq7kv6EnOiAwLAogICAgICAgICflvq7ljZonOiAwCiAgICAgIH07CiAgICAgIGNvbnN0IHN0YWdlRGF0ZXMgPSB7CiAgICAgICAgc3RhcnQ6IHRoaXMuYW5hbHlzaXMuc3RhcnQsCiAgICAgICAgc3ByZWFkOiB0aGlzLmFuYWx5c2lzLnNwcmVhZCwKICAgICAgICBjbGltYXg6IHRoaXMuYW5hbHlzaXMuY2xpbWF4LAogICAgICAgIGZhZGU6IHRoaXMuYW5hbHlzaXMuZmFkZQogICAgICB9OwogICAgICBmb3IgKGNvbnN0IFtzdGFnZSwgZGF0ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3RhZ2VEYXRlcykpIHsKICAgICAgICBpZiAoZGF0ZSAmJiBkYXRlICE9PSAn5pyq6YCA5pWjJykgewogICAgICAgICAgY29uc3QgcmVubWluQ291bnQgPSB0aGlzLnRpbWVEYXRhLnJlbm1pbl9kYXRlX2NvdW50W2RhdGVdIHx8IDA7CiAgICAgICAgICBjb25zdCB0aWViYUNvdW50ID0gdGhpcy50aW1lRGF0YS50aWViYV9kYXRlX2NvdW50W2RhdGVdIHx8IDA7CiAgICAgICAgICBjb25zdCB3ZWNoYXRDb3VudCA9IHRoaXMudGltZURhdGEud2VjaGF0X2RhdGVfY291bnRbZGF0ZV0gfHwgMDsKICAgICAgICAgIGNvbnN0IHdlaWJvQ291bnQgPSB0aGlzLnRpbWVEYXRhLndlaWJvX2RhdGVfY291bnRbZGF0ZV0gfHwgMDsKICAgICAgICAgIHBsYXRmb3JtU2NvcmVzWyfkurrmsJHnvZEnXSArPSByZW5taW5Db3VudCAqIHN0YWdlV2VpZ2h0c1tzdGFnZV07CiAgICAgICAgICBwbGF0Zm9ybVNjb3Jlc1sn6LS05ZCnJ10gKz0gdGllYmFDb3VudCAqIHN0YWdlV2VpZ2h0c1tzdGFnZV07CiAgICAgICAgICBwbGF0Zm9ybVNjb3Jlc1sn5b6u5L+hJ10gKz0gd2VjaGF0Q291bnQgKiBzdGFnZVdlaWdodHNbc3RhZ2VdOwogICAgICAgICAgcGxhdGZvcm1TY29yZXNbJ+W+ruWNmiddICs9IHdlaWJvQ291bnQgKiBzdGFnZVdlaWdodHNbc3RhZ2VdOwogICAgICAgIH0KICAgICAgfQogICAgICBsZXQgbWF4U2NvcmUgPSAwOwogICAgICBmb3IgKGNvbnN0IFtwbGF0Zm9ybSwgc2NvcmVdIG9mIE9iamVjdC5lbnRyaWVzKHBsYXRmb3JtU2NvcmVzKSkgewogICAgICAgIGlmIChzY29yZSA+IG1heFNjb3JlKSB7CiAgICAgICAgICBtYXhTY29yZSA9IHNjb3JlOwogICAgICAgICAgdGhpcy5kb21pbmFudFBsYXRmb3JtID0gcGxhdGZvcm07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["axios","name","data","radio","key","timeData","analysis","start","spread","climax","fade","dominantPlatform","mounted","$route","query","fetchData","methods","response","get","encodeURIComponent","code","filterSixMonthsData","analyzeStages","findDominantPlatform","error","console","sixMonthsAgo","Date","setMonth","getMonth","filteredData","renmin_date_count","tieba_date_count","wechat_date_count","weibo_date_count","platforms","forEach","platform","date","count","Object","entries","currentDate","allData","sortedDates","keys","sort","length","prevCount","stage","lastDate","climaxDate","spreadPeak","Math","max","values","isFade","stageWeights","platformScores","stageDates","renminCount","tiebaCount","wechatCount","weiboCount","maxScore","score"],"sources":["src/components/all_detail/time.vue"],"sourcesContent":["<template>\r\n    <div class=\"post\" style=\"height: 100%;\">\r\n        <div class=\"post_top\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clock-history\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z\"/>\r\n  <path d=\"M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z\"/>\r\n  <path d=\"M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5\"/>\r\n</svg>\r\n            <span class=\"stat-title\" style=\"align-items: center;\">   舆情引导策略分析</span>\r\n        </div>\r\n        <div class=\"strategy-analysis\" >\r\n            <div class=\"stage\">\r\n                <span class=\"stage-title\">开始阶段:</span>\r\n                <span>{{ analysis.start }}</span>\r\n            </div>\r\n            <div class=\"stage\">\r\n                <span class=\"stage-title\">扩散阶段:</span>\r\n                <span>{{ analysis.spread }}</span>\r\n            </div>\r\n            <div class=\"stage\">\r\n                <span class=\"stage-title\">高潮阶段:</span>\r\n                <span>{{ analysis.climax }}</span>\r\n            </div>\r\n            <div class=\"stage\">\r\n                <span class=\"stage-title\">退散阶段:</span>\r\n                <span>{{ analysis.fade }}</span>\r\n            </div>\r\n            <div class=\"guidance-platform\">\r\n            <span class=\"platform-title\">舆情主要引导平台:</span>\r\n            <span>{{ dominantPlatform }}</span>\r\n        </div>\r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"time\",\r\n    data() {\r\n        return {\r\n            radio: 1,\r\n            key: '',\r\n            timeData: {},\r\n            analysis: {\r\n                start: '',\r\n                spread: '',\r\n                climax: '',\r\n                fade: ''\r\n            },\r\n            dominantPlatform: ''\r\n        };\r\n    },\r\n    mounted() {\r\n        this.key = this.$route.query.key;\r\n        this.fetchData();\r\n    },\r\n    methods: {\r\n        async fetchData() {\r\n            try {\r\n                const response = await axios.get(`/topicPost?key=${encodeURIComponent(this.key)}`);\r\n                if (response.data.code === 0) {\r\n                    this.timeData = this.filterSixMonthsData(response.data.data);\r\n                    this.analyzeStages();\r\n                    this.findDominantPlatform();\r\n                }\r\n            } catch (error) {\r\n                console.error('获取数据出错:', error);\r\n            }\r\n        },\r\n        filterSixMonthsData(data) {\r\n            const sixMonthsAgo = new Date();\r\n            sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 12);\r\n\r\n            const filteredData = {\r\n                renmin_date_count: {},\r\n                tieba_date_count: {},\r\n                wechat_date_count: {},\r\n                weibo_date_count: {}\r\n            };\r\n\r\n            const platforms = ['renmin_date_count', 'tieba_date_count', 'wechat_date_count', 'weibo_date_count'];\r\n            platforms.forEach(platform => {\r\n                for (const [date, count] of Object.entries(data[platform])) {\r\n                    const currentDate = new Date(date);\r\n                    if (currentDate >= sixMonthsAgo) {\r\n                        filteredData[platform][date] = count;\r\n                    }\r\n                }\r\n            });\r\n\r\n            return filteredData;\r\n        },\r\n        analyzeStages() {\r\n            const allData = {\r\n               ...this.timeData.renmin_date_count,\r\n               ...this.timeData.tieba_date_count,\r\n               ...this.timeData.wechat_date_count,\r\n               ...this.timeData.weibo_date_count\r\n            };\r\n            const sortedDates = Object.keys(allData).sort();\r\n\r\n            if (sortedDates.length > 0) {\r\n                this.analysis.start = sortedDates[0];\r\n            }\r\n\r\n            let prevCount = 0;\r\n            let stage = 'start';\r\n            let lastDate = null;\r\n            let climaxDate = null;\r\n            let spreadPeak = 0;\r\n\r\n            for (const date of sortedDates) {\r\n                const count = allData[date];\r\n                if (count > prevCount) {\r\n                    if (stage === 'start') {\r\n                        stage ='spread';\r\n                    }\r\n                }\r\n                if (count === Math.max(...Object.values(allData))) {\r\n                    stage = 'climax';\r\n                    climaxDate = date;\r\n                }\r\n                if (climaxDate) {\r\n                    break;\r\n                }\r\n                if (count > spreadPeak) {\r\n                    spreadPeak = count;\r\n                    this.analysis.spread = date;\r\n                }\r\n                prevCount = count;\r\n                lastDate = date;\r\n            }\r\n\r\n            if (climaxDate) {\r\n                this.analysis.climax = climaxDate;\r\n            }\r\n\r\n            // 继续遍历找退散阶段\r\n            let isFade = false;\r\n            for (const date of sortedDates) {\r\n                if (date === climaxDate) {\r\n                    isFade = true;\r\n                    continue;\r\n                }\r\n                if (isFade && allData[date] < allData[climaxDate]) {\r\n                    this.analysis.fade = date;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // 处理最后日期仍处于高潮阶段的情况\r\n            if (lastDate === this.analysis.climax) {\r\n                this.analysis.fade = '未退散';\r\n            }\r\n\r\n            // 确保日期依次增加\r\n            if (this.analysis.spread < this.analysis.start) {\r\n                this.analysis.spread = this.analysis.start;\r\n            }\r\n            if (this.analysis.climax < this.analysis.spread) {\r\n                this.analysis.climax = this.analysis.spread;\r\n            }\r\n            if (this.analysis.fade!== '未退散' && this.analysis.fade < this.analysis.climax) {\r\n                this.analysis.fade = '未退散';\r\n            }\r\n        },\r\n        findDominantPlatform() {\r\n            const stageWeights = {\r\n                start: 0.1,\r\n                spread: 0.3,\r\n                climax: 0.6,\r\n                fade: 0.0\r\n            };\r\n\r\n            const platformScores = {\r\n                '人民网': 0,\r\n                '贴吧': 0,\r\n                '微信': 0,\r\n                '微博': 0\r\n            };\r\n\r\n            const stageDates = {\r\n                start: this.analysis.start,\r\n                spread: this.analysis.spread,\r\n                climax: this.analysis.climax,\r\n                fade: this.analysis.fade\r\n            };\r\n\r\n            for (const [stage, date] of Object.entries(stageDates)) {\r\n                if (date && date!== '未退散') {\r\n                    const renminCount = this.timeData.renmin_date_count[date] || 0;\r\n                    const tiebaCount = this.timeData.tieba_date_count[date] || 0;\r\n                    const wechatCount = this.timeData.wechat_date_count[date] || 0;\r\n                    const weiboCount = this.timeData.weibo_date_count[date] || 0;\r\n\r\n                    platformScores['人民网'] += renminCount * stageWeights[stage];\r\n                    platformScores['贴吧'] += tiebaCount * stageWeights[stage];\r\n                    platformScores['微信'] += wechatCount * stageWeights[stage];\r\n                    platformScores['微博'] += weiboCount * stageWeights[stage];\r\n                }\r\n            }\r\n\r\n            let maxScore = 0;\r\n            for (const [platform, score] of Object.entries(platformScores)) {\r\n                if (score > maxScore) {\r\n                    maxScore = score;\r\n                    this.dominantPlatform = platform;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.post {\r\n    color: #ffffff;\r\n    /* border-radius: 8px; */\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* 添加阴影效果 */\r\n    border: 2px solid #669ef3a5; /* 深色边框 */\r\n    border-radius: 10px;\r\n    box-sizing: border-box;\r\n\r\n}\r\n\r\n.post_top {\r\n    /* display: flex; */\r\n    text-align: center;\r\n    margin-bottom: 10px;\r\n    font-size: 18px;\r\n    width: 99%;\r\n}\r\n\r\n.stat-title {\r\n    text-align: center;\r\n}\r\n\r\n.radio {\r\n    margin-left: auto;\r\n}\r\n\r\n.strategy-analysis {\r\n    overflow-y: auto;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-top: 1px;\r\n    height: 90%;\r\n    text-align: left; /* 设置整个组件内容左对齐 */\r\n}\r\n\r\n.stage {\r\n    width: 90%;\r\n    padding: 8px;\r\n    margin-bottom: 0px;\r\n    text-align: left; /* 设置每个阶段内容左对齐 */\r\n}\r\n\r\n.stage-title {\r\n    font-weight: bold;\r\n    margin-right: 10px;\r\n}\r\n\r\n.guidance-platform {\r\n    width: 78%;\r\n    padding: 8px;\r\n    margin-bottom: 0px;\r\n    text-align: left; /* 设置每个阶段内容左对齐 */\r\n}\r\n\r\n.platform-title {\r\n    font-weight: bold;\r\n    margin-bottom: 10px;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]}]}