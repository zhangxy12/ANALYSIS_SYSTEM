{"remainingRequest":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\WXAnalyze\\Word_cloud.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\WXAnalyze\\Word_cloud.vue","mtime":1737640350565},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\babel.config.js","mtime":1732591727371},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1733210776030},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1733210773580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ3b3JkX2Nsb3VkIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZXI6ICIiLAogICAgICBteUNoYXJ0OiAiIiwKICAgICAgY2xvdWRfd29yZDogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDbG91ZFdvcmQoaWQpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCJ3b3JkX2Nsb3VkX3d4P3RhZ190YXNrX2lkPSIgKyBpZCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB0aGlzLmNsb3VkX3dvcmQgPSByZXMuZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgdGhpcy5teVdvcmRDbG91ZChyZXMuZGF0YS5kYXRhLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBteVdvcmRDbG91ZChkYXRhKSB7CiAgICAgIGxldCBvcHRpb247CiAgICAgIGlmICh0aGlzLm15Q2hhcnQgIT0gbnVsbCAmJiB0aGlzLm15Q2hhcnQgIT0gIiIgJiYgdGhpcy5teUNoYXJ0ICE9IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMubXlDaGFydC5kaXNwb3NlKCk7IC8v6Kej5YazZWNoYXJ0cyBkb23lt7Lnu4/liqDovb3nmoTmiqXplJkKICAgICAgfQogICAgICB0aGlzLm15Q2hhcnQgPSB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXJzX3dvcmRfY2xvdWQiKSk7CiAgICAgIC8vIOaMh+WumuWbvuihqOeahOmFjee9rumhueWSjOaVsOaNrgogICAgICBvcHRpb24gPSB7CiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgc2hvdzogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgdHlwZTogIndvcmRDbG91ZCIsCiAgICAgICAgICBzaXplUmFuZ2U6IFsxMCwgNTBdLAogICAgICAgICAgLy/mloflrZfojIPlm7QKICAgICAgICAgIC8v5paH5pys5peL6L2s6IyD5Zu077yM5paH5pys5bCG6YCa6L+Hcm90YXRpb25TdGVwNDXlnKhbLTkwLDkwXeiMg+WbtOWGhemaj+acuuaXi+i9rAogICAgICAgICAgcm90YXRpb25SYW5nZTogWy00NSwgOTBdLAogICAgICAgICAgcm90YXRpb25TdGVwOiA0NSwKICAgICAgICAgIHRleHRSb3RhdGlvbjogWzAsIDQ1LCA5MCwgLTQ1XSwKICAgICAgICAgIC8v5b2i54q2CiAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvL+aWh+Wtl+minOiJsueahOmaj+acuuiJsgogICAgICAgICAgICAgIHJldHVybiAicmdiKCIgKyBbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNTUgKyAyMDApLAogICAgICAgICAgICAgIC8vIOe6ouiJsuWIhumHj++8mjIwMC0yNTUKICAgICAgICAgICAgICBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1NSArIDIwMCksCiAgICAgICAgICAgICAgLy8g57u/6Imy5YiG6YeP77yaMjAwLTI1NQogICAgICAgICAgICAgIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDU1ICsgMjAwKSAvLyDok53oibLliIbph4/vvJoyMDAtMjU1CiAgICAgICAgICAgICAgXS5qb2luKCIsIikgKyAiKSI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgfV0KICAgICAgfTsKICAgICAgdGhpcy5teUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOwogICAgICAvLyDkvb/nlKjliJrmjIflrprnmoTphY3nva7pobnlkozmlbDmja7mmL7npLrlm77ooajjgIIKICAgICAgb3B0aW9uICYmIHRoaXMubXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRidXMuJG9uKCJzZW5kX3RhZ190YXNrX2lkIiwgdGFnX3Rhc2tfaWQgPT4gewogICAgICBjb25zb2xlLmxvZygi6L+Z6YeM5piv6K+N5LqR57uE5Lu2LOaUtuWIsOS6huaVsOaNrjoiLCB0YWdfdGFza19pZCk7CiAgICAgIHRoaXMuZ2V0Q2xvdWRXb3JkKHRhZ190YXNrX2lkKTsKICAgIH0pOwogICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgdGhpcy5teVdvcmRDbG91ZCh0aGlzLmNsb3VkX3dvcmQpOwogICAgfSwgNTAwMCk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy4kYnVzLiRvZmYoInNlbmRfdGFnX3Rhc2tfaWQiKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB0aGlzLnRpbWVyID0gbnVsbDsKICB9Cn07"},{"version":3,"names":["name","data","timer","myChart","cloud_word","methods","getCloudWord","id","$axios","get","then","res","console","log","myWordCloud","option","undefined","dispose","$echarts","init","document","getElementById","tooltip","show","series","type","sizeRange","rotationRange","rotationStep","textRotation","textStyle","color","Math","round","random","join","setOption","mounted","$bus","$on","tag_task_id","setInterval","beforeDestroy","$off","clearInterval"],"sources":["src/components/WXAnalyze/Word_cloud.vue"],"sourcesContent":["<template>\r\n    <div class=\"word_cloud\">\r\n      <div class=\"word_cloud_top\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-ciyuntu\"></use>\r\n        </svg>\r\n        <span class=\"title_text\"> 词云 </span>\r\n      </div>\r\n      <div class=\"show_words\">\r\n        <div id=\"chars_word_cloud\"></div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"word_cloud\",\r\n    data() {\r\n      return {\r\n        timer: \"\",\r\n        myChart: \"\",\r\n        cloud_word: \"\",\r\n      };\r\n    },\r\n    methods: {\r\n      getCloudWord(id) {\r\n        this.$axios.get(\"word_cloud_wx?tag_task_id=\" + id).then((res) => {\r\n          console.log(res.data)\r\n          this.cloud_word = res.data.data.data;\r\n          this.myWordCloud(res.data.data.data);\r\n        });\r\n      },\r\n      myWordCloud(data) {\r\n        let option;\r\n        if (\r\n          this.myChart != null &&\r\n          this.myChart != \"\" &&\r\n          this.myChart != undefined\r\n        ) {\r\n          this.myChart.dispose(); //解决echarts dom已经加载的报错\r\n        }\r\n        this.myChart = this.$echarts.init(\r\n          document.getElementById(\"chars_word_cloud\")\r\n        );\r\n        // 指定图表的配置项和数据\r\n        option = {\r\n          tooltip: {\r\n            show: true,\r\n          },\r\n          series: [\r\n            {\r\n              type: \"wordCloud\",\r\n              sizeRange: [10, 50], //文字范围\r\n              //文本旋转范围，文本将通过rotationStep45在[-90,90]范围内随机旋转\r\n              rotationRange: [-45, 90],\r\n              rotationStep: 45,\r\n              textRotation: [0, 45, 90, -45],\r\n              //形状\r\n              textStyle: {\r\n                color: function () {\r\n                  //文字颜色的随机色\r\n                  return (\r\n                    \"rgb(\" +\r\n                    [\r\n                    Math.round(Math.random() * 55 + 200), // 红色分量：200-255\r\n                    Math.round(Math.random() * 55 + 200), // 绿色分量：200-255\r\n                    Math.round(Math.random() * 55 + 200), // 蓝色分量：200-255\r\n                    ].join(\",\") +\r\n                    \")\"\r\n                  );\r\n                },\r\n              },\r\n              data: data,\r\n            },\r\n          ],\r\n        };\r\n        this.myChart.setOption(option);\r\n        // 使用刚指定的配置项和数据显示图表。\r\n        option && this.myChart.setOption(option);\r\n      },\r\n    },\r\n    mounted() {\r\n  \r\n      this.$bus.$on(\"send_tag_task_id\", (tag_task_id) => {\r\n        console.log(\"这里是词云组件,收到了数据:\", tag_task_id);\r\n        this.getCloudWord(tag_task_id);\r\n      });\r\n      this.timer = setInterval(() => {\r\n        this.myWordCloud(this.cloud_word);\r\n      }, 5000);\r\n    },\r\n    beforeDestroy() {\r\n      this.$bus.$off(\"send_tag_task_id\");\r\n      clearInterval(this.timer);\r\n      this.timer = null;\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scpoed>\r\n  .word_cloud {\r\n    border: 2px solid #fefeff6a; /* 深色边框 */\r\n    border-radius: 10px;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 30%;\r\n    background-color: #ffffff00;\r\n    color: #ffffff;\r\n    border: 2px solid #669ef3a5; /* 深色边框 */\r\n    border-radius: 10px;\r\n    \r\n    box-sizing: border-box;\r\n    box-shadow: 0 0 15px rgba(233, 229, 238, 0.304), 0 0 25px rgba(63, 154, 87, 0.4); /* 外阴影 */\r\n  }\r\n  .word_cloud_top {\r\n    margin-left: 1px;\r\n  }\r\n  .w_title {\r\n    padding-top: 10px;\r\n    height: 50px;\r\n    text-align: center;\r\n    font-size: 20px;\r\n  }\r\n  #chars_word_cloud {\r\n    width: 400px;\r\n    height: 160px;\r\n    top: -10px;\r\n    position: relative;\r\n    margin-left: -10px;\r\n  }\r\n  .icon {\r\n    position: relative;\r\n    top: 8px;\r\n  }\r\n  </style>"],"mappings":"AAeA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,OAAA;MACAC,UAAA;IACA;EACA;EACAC,OAAA;IACAC,aAAAC,EAAA;MACA,KAAAC,MAAA,CAAAC,GAAA,gCAAAF,EAAA,EAAAG,IAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAAV,IAAA;QACA,KAAAG,UAAA,GAAAO,GAAA,CAAAV,IAAA,CAAAA,IAAA,CAAAA,IAAA;QACA,KAAAa,WAAA,CAAAH,GAAA,CAAAV,IAAA,CAAAA,IAAA,CAAAA,IAAA;MACA;IACA;IACAa,YAAAb,IAAA;MACA,IAAAc,MAAA;MACA,IACA,KAAAZ,OAAA,YACA,KAAAA,OAAA,UACA,KAAAA,OAAA,IAAAa,SAAA,EACA;QACA,KAAAb,OAAA,CAAAc,OAAA;MACA;MACA,KAAAd,OAAA,QAAAe,QAAA,CAAAC,IAAA,CACAC,QAAA,CAAAC,cAAA,oBACA;MACA;MACAN,MAAA;QACAO,OAAA;UACAC,IAAA;QACA;QACAC,MAAA,GACA;UACAC,IAAA;UACAC,SAAA;UAAA;UACA;UACAC,aAAA;UACAC,YAAA;UACAC,YAAA;UACA;UACAC,SAAA;YACAC,KAAA,WAAAA,CAAA;cACA;cACA,OACA,SACA,CACAC,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA;cAAA;cACAF,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA;cAAA;cACAF,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA;cAAA,CACA,CAAAC,IAAA,QACA;YAEA;UACA;UACAlC,IAAA,EAAAA;QACA;MAEA;MACA,KAAAE,OAAA,CAAAiC,SAAA,CAAArB,MAAA;MACA;MACAA,MAAA,SAAAZ,OAAA,CAAAiC,SAAA,CAAArB,MAAA;IACA;EACA;EACAsB,QAAA;IAEA,KAAAC,IAAA,CAAAC,GAAA,qBAAAC,WAAA;MACA5B,OAAA,CAAAC,GAAA,mBAAA2B,WAAA;MACA,KAAAlC,YAAA,CAAAkC,WAAA;IACA;IACA,KAAAtC,KAAA,GAAAuC,WAAA;MACA,KAAA3B,WAAA,MAAAV,UAAA;IACA;EACA;EACAsC,cAAA;IACA,KAAAJ,IAAA,CAAAK,IAAA;IACAC,aAAA,MAAA1C,KAAA;IACA,KAAAA,KAAA;EACA;AACA","ignoreList":[]}]}