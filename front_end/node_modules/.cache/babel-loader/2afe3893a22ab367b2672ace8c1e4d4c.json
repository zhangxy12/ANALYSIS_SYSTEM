{"remainingRequest":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\thread-loader\\dist\\cjs.js!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\tb_detail\\cloud_graph.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\tb_detail\\cloud_graph.vue","mtime":1737873801122},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\babel.config.js","mtime":1732591727371},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1733210776367},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1733210776030},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1733210773580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ3b3JkX2Nsb3VkIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZXI6ICIiLAogICAgICBteUNoYXJ0OiAiIiwKICAgICAgY2xvdWRfZ3JhcGhfZGF0YTogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDbG91ZEdyYXBoKCkgewogICAgICBsZXQgcXVlcnkgPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgICAgLy8g5a+5IFVSTCDlj4LmlbDov5vooYznvJbnoIEKICAgICAgY29uc3QgZW5jb2RlZFVybCA9IGVuY29kZVVSSUNvbXBvbmVudChxdWVyeS51cmwpOwogICAgICB0aGlzLiRheGlvcy5nZXQoYGNvbW1lbnQvY2xvdWRfdGI/dGFnX3Rhc2tfaWQ9JHtxdWVyeS50YWdfdGFza19pZH0mdXJsPSR7ZW5jb2RlZFVybH1gKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5jbG91ZF9ncmFwaF9kYXRhID0gcmVzLmRhdGEuZGF0YS5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIG15V29yZENsb3VkKCkgewogICAgICBsZXQgb3B0aW9uOwogICAgICBpZiAodGhpcy5teUNoYXJ0ICE9IG51bGwgJiYgdGhpcy5teUNoYXJ0ICE9ICIiICYmIHRoaXMubXlDaGFydCAhPSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLm15Q2hhcnQuZGlzcG9zZSgpOyAvL+ino+WGs2VjaGFydHMgZG9t5bey57uP5Yqg6L2955qE5oql6ZSZCiAgICAgIH0KICAgICAgLy8g5Z+65LqO5YeG5aSH5aW955qEZG9t77yM5Yid5aeL5YyWZWNoYXJ0c+WunuS+iwogICAgICB0aGlzLm15Q2hhcnQgPSB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdyYXBoX3dvcmRfY2xvdWQiKSk7CiAgICAgIC8vIOaMh+WumuWbvuihqOeahOmFjee9rumhueWSjOaVsOaNrgogICAgICBvcHRpb24gPSB7CiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgc2hvdzogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgdHlwZTogIndvcmRDbG91ZCIsCiAgICAgICAgICBzaXplUmFuZ2U6IFsxMCwgNTBdLAogICAgICAgICAgLy/mloflrZfojIPlm7QKICAgICAgICAgIC8v5paH5pys5peL6L2s6IyD5Zu077yM5paH5pys5bCG6YCa6L+Hcm90YXRpb25TdGVwNDXlnKhbLTkwLDkwXeiMg+WbtOWGhemaj+acuuaXi+i9rAogICAgICAgICAgcm90YXRpb25SYW5nZTogWy00NSwgOTBdLAogICAgICAgICAgcm90YXRpb25TdGVwOiA0NSwKICAgICAgICAgIHRleHRSb3RhdGlvbjogWzAsIDQ1LCA5MCwgLTQ1XSwKICAgICAgICAgIC8v5b2i54q2CiAgICAgICAgICBzaGFwZTogImNhcmRpb2lkICIsCiAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvL+aWh+Wtl+minOiJsueahOmaj+acuuiJsgogICAgICAgICAgICAgIHJldHVybiAicmdiKCIgKyBbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNTUgKyAyMDApLAogICAgICAgICAgICAgIC8vIOe6ouiJsuWIhumHj++8mjIwMC0yNTUKICAgICAgICAgICAgICBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1NSArIDIwMCksCiAgICAgICAgICAgICAgLy8g57u/6Imy5YiG6YeP77yaMjAwLTI1NQogICAgICAgICAgICAgIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDU1ICsgMjAwKSAvLyDok53oibLliIbph4/vvJoyMDAtMjU1CiAgICAgICAgICAgICAgXS5qb2luKCIsIikgKyAiKSI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBkYXRhOiB0aGlzLmNsb3VkX2dyYXBoX2RhdGEKICAgICAgICB9XQogICAgICB9OwogICAgICB0aGlzLm15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7CiAgICAgIC8vIOS9v+eUqOWImuaMh+WumueahOmFjee9rumhueWSjOaVsOaNruaYvuekuuWbvuihqOOAggogICAgICBvcHRpb24gJiYgdGhpcy5teUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q2xvdWRHcmFwaCgpOwogICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgdGhpcy5teVdvcmRDbG91ZCgpOwogICAgfSwgNTAwMCk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMudGltZXIgPSBudWxsOwogIH0KfTs="},{"version":3,"names":["name","data","timer","myChart","cloud_graph_data","methods","getCloudGraph","query","$route","encodedUrl","encodeURIComponent","url","$axios","get","tag_task_id","then","res","console","log","myWordCloud","option","undefined","dispose","$echarts","init","document","getElementById","tooltip","show","series","type","sizeRange","rotationRange","rotationStep","textRotation","shape","textStyle","color","Math","round","random","join","setOption","mounted","setInterval","beforeDestroy","clearInterval"],"sources":["src/components/tb_detail/cloud_graph.vue"],"sourcesContent":["<template>\r\n  <div class=\"cloud_graph\">\r\n    <div class=\"cloud_graph_title\">评论词云图</div>\r\n    <div id=\"graph_word_cloud\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"word_cloud\",\r\n  data() {\r\n    return {\r\n      timer: \"\",\r\n      myChart: \"\",\r\n      cloud_graph_data: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    getCloudGraph() {\r\n      let query = this.$route.query;\r\n      // 对 URL 参数进行编码\r\n      const encodedUrl = encodeURIComponent(query.url);\r\n      \r\n      this.$axios.get(`comment/cloud_tb?tag_task_id=${query.tag_task_id}&url=${encodedUrl}`).then((res) => {\r\n        this.cloud_graph_data = res.data.data.data;\r\n        console.log(res.data.data.data)\r\n      });\r\n    },\r\n    myWordCloud() {\r\n      let option;\r\n      if (\r\n        this.myChart != null &&\r\n        this.myChart != \"\" &&\r\n        this.myChart != undefined\r\n      ) {\r\n        this.myChart.dispose(); //解决echarts dom已经加载的报错\r\n      }\r\n      // 基于准备好的dom，初始化echarts实例\r\n      this.myChart = this.$echarts.init(\r\n        document.getElementById(\"graph_word_cloud\")\r\n      );\r\n      // 指定图表的配置项和数据\r\n      option = {\r\n        tooltip: {\r\n          show: true,\r\n        },\r\n        series: [\r\n          {\r\n            type: \"wordCloud\",\r\n            sizeRange: [10, 50], //文字范围\r\n            //文本旋转范围，文本将通过rotationStep45在[-90,90]范围内随机旋转\r\n            rotationRange: [-45, 90],\r\n            rotationStep: 45,\r\n            textRotation: [0, 45, 90, -45],\r\n            //形状\r\n            shape: \"cardioid \",\r\n            textStyle: {\r\n              color: function () {\r\n                //文字颜色的随机色\r\n                return (\r\n                  \"rgb(\" +\r\n                  [\r\n                  Math.round(Math.random() * 55 + 200), // 红色分量：200-255\r\n                  Math.round(Math.random() * 55 + 200), // 绿色分量：200-255\r\n                  Math.round(Math.random() * 55 + 200), // 蓝色分量：200-255\r\n                  ].join(\",\") +\r\n                  \")\"\r\n                );\r\n              },\r\n            },\r\n            data: this.cloud_graph_data,\r\n          },\r\n        ],\r\n      };\r\n      this.myChart.setOption(option);\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      option && this.myChart.setOption(option);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getCloudGraph();\r\n    this.timer = setInterval(() => {\r\n      this.myWordCloud();\r\n    }, 5000);\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.timer);\r\n    this.timer = null;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cloud_graph {\r\n  position: absolute;\r\n  width: 100%;\r\n  height:43%;\r\n  top: 1%;\r\n  background-color: #ffffff00;\r\n  color:#ffff;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* 添加阴影效果 */\r\n  border: 2px solid #669ef3a5; /* 深色边框 */\r\n  border-radius: 10px;\r\n  box-sizing: border-box;\r\n  \r\n  overflow: hidden;\r\n}\r\n.cloud_graph_title {\r\n  margin: 10px 20px;\r\n  padding: 5px;\r\n  font-weight: 600;\r\n  letter-spacing: 1px;\r\n}\r\n#graph_word_cloud {\r\n  width: 90%;\r\n  height: 80%;\r\n\r\n}\r\n</style>"],"mappings":"AAQA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,OAAA;MACAC,gBAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAA;MACA,IAAAC,KAAA,QAAAC,MAAA,CAAAD,KAAA;MACA;MACA,MAAAE,UAAA,GAAAC,kBAAA,CAAAH,KAAA,CAAAI,GAAA;MAEA,KAAAC,MAAA,CAAAC,GAAA,iCAAAN,KAAA,CAAAO,WAAA,QAAAL,UAAA,IAAAM,IAAA,CAAAC,GAAA;QACA,KAAAZ,gBAAA,GAAAY,GAAA,CAAAf,IAAA,CAAAA,IAAA,CAAAA,IAAA;QACAgB,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAAf,IAAA,CAAAA,IAAA,CAAAA,IAAA;MACA;IACA;IACAkB,YAAA;MACA,IAAAC,MAAA;MACA,IACA,KAAAjB,OAAA,YACA,KAAAA,OAAA,UACA,KAAAA,OAAA,IAAAkB,SAAA,EACA;QACA,KAAAlB,OAAA,CAAAmB,OAAA;MACA;MACA;MACA,KAAAnB,OAAA,QAAAoB,QAAA,CAAAC,IAAA,CACAC,QAAA,CAAAC,cAAA,oBACA;MACA;MACAN,MAAA;QACAO,OAAA;UACAC,IAAA;QACA;QACAC,MAAA,GACA;UACAC,IAAA;UACAC,SAAA;UAAA;UACA;UACAC,aAAA;UACAC,YAAA;UACAC,YAAA;UACA;UACAC,KAAA;UACAC,SAAA;YACAC,KAAA,WAAAA,CAAA;cACA;cACA,OACA,SACA,CACAC,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA;cAAA;cACAF,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA;cAAA;cACAF,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA;cAAA,CACA,CAAAC,IAAA,QACA;YAEA;UACA;UACAxC,IAAA,OAAAG;QACA;MAEA;MACA,KAAAD,OAAA,CAAAuC,SAAA,CAAAtB,MAAA;MACA;MACAA,MAAA,SAAAjB,OAAA,CAAAuC,SAAA,CAAAtB,MAAA;IACA;EACA;EACAuB,QAAA;IACA,KAAArC,aAAA;IACA,KAAAJ,KAAA,GAAA0C,WAAA;MACA,KAAAzB,WAAA;IACA;EACA;EACA0B,cAAA;IACAC,aAAA,MAAA5C,KAAA;IACA,KAAAA,KAAA;EACA;AACA","ignoreList":[]}]}