{"remainingRequest":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\mainscreen\\allCount.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\mainscreen\\allCount.vue","mtime":1743662450325},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\babel.config.js","mtime":1732591727371},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1733210776030},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1733210773580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGxhdGZvcm1BcnRpY2xlQ291bnRzOiB7CiAgICAgICAgd2VjaGF0OiAwLAogICAgICAgIHdlaWJvOiAwLAogICAgICAgIHJlbm1pbjogMCwKICAgICAgICB0aWViYTogMAogICAgICB9LAogICAgICBwbGF0Zm9ybU5hbWVzOiB7CiAgICAgICAgd2VjaGF0OiAn5b6u5L+hJywKICAgICAgICB3ZWlibzogJ+W+ruWNmicsCiAgICAgICAgcmVubWluOiAn5Lq65rCR572RJywKICAgICAgICB0aWViYTogJ+i0tOWQpycKICAgICAgfSwKICAgICAgY3Vyc29yOiAxLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvck1lc3NhZ2U6ICcnLAogICAgICBoYXNNb3JlRGF0YTogdHJ1ZQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoQXJ0aWNsZUNvdW50cygpOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZmV0Y2hBcnRpY2xlQ291bnRzKCkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJyc7CiAgICAgIHRoaXMuaGFzTW9yZURhdGEgPSB0cnVlOwogICAgICB0aGlzLmN1cnNvciA9IDE7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYC9tYWluL2FsbF9tdWx0aV9zZWFyY2g/Y3Vyc29yPSR7dGhpcy5jdXJzb3J9YCk7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIGNvbnN0IHBhZ2VEYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy5wbGF0Zm9ybUFydGljbGVDb3VudHMgPSB7CiAgICAgICAgICAgIHdlY2hhdDogcGFnZURhdGEuc291cmNlX2NvdW50LndlY2hhdCwKICAgICAgICAgICAgd2VpYm86IHBhZ2VEYXRhLnNvdXJjZV9jb3VudC53ZWlibywKICAgICAgICAgICAgcmVubWluOiBwYWdlRGF0YS5zb3VyY2VfY291bnQucmVubWluLAogICAgICAgICAgICB0aWViYTogcGFnZURhdGEuc291cmNlX2NvdW50LnRpZWJhCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICAgIF9NZXNzYWdlLndhcm5pbmcodGhpcy5lcnJvck1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gYOivt+axguWksei0pe+8jOeKtuaAgeeggTogJHtlcnJvci5yZXNwb25zZS5zdGF0dXN9YDsKICAgICAgICAgIF9NZXNzYWdlLmVycm9yKHRoaXMuZXJyb3JNZXNzYWdlKTsKICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHsKICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJ+e9kee7nOmUmeivr++8jOaXoOazlei/nuaOpeWIsOacjeWKoeWZqCc7CiAgICAgICAgICBfTWVzc2FnZS5lcnJvcih0aGlzLmVycm9yTWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJ+ivt+axguiuvue9rumUmeivr++8jOivt+ajgOafpeS7o+eggSc7CiAgICAgICAgICBfTWVzc2FnZS5lcnJvcih0aGlzLmVycm9yTWVzc2FnZSk7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aVsOaNruivt+axguWHuumUmTonLCBlcnJvcik7CiAgICAgIH0KICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"names":["axios","data","platformArticleCounts","wechat","weibo","renmin","tieba","platformNames","cursor","isLoading","errorMessage","hasMoreData","mounted","fetchArticleCounts","methods","response","get","console","log","code","pageData","source_count","message","_Message","warning","error","status","request"],"sources":["src/components/mainscreen/allCount.vue"],"sourcesContent":["<template>\r\n    <div class=\"platform-article-count\">\r\n        <h2><i class=\"fa fa-cubes\"></i>     今日舆情数量（千）</h2>\r\n        <div class=\"platform-items-wrapper\">\r\n            <div class=\"platform-item\" v-for=\"(count, platform) in platformArticleCounts\" :key=\"platform\">\r\n                <span>{{ platformNames[platform] }}</span>\r\n                <dv-decoration-9 style=\"width:70px;height:70px;\" dur=5>\r\n                    <span>{{ count }}</span>\r\n                </dv-decoration-9>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\r\n        <div class=\"loading\" v-if=\"isLoading\">加载中...</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { Message } from 'element-ui';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            platformArticleCounts: {\r\n                wechat: 0,\r\n                weibo: 0,\r\n                renmin: 0,\r\n                tieba: 0\r\n            },\r\n            platformNames: {\r\n                wechat: '微信',\r\n                weibo: '微博',\r\n                renmin: '人民网',\r\n                tieba: '贴吧'\r\n            },\r\n            cursor: 1,\r\n            isLoading: false,\r\n            errorMessage: '',\r\n            hasMoreData: true\r\n        };\r\n    },\r\n    mounted() {\r\n        this.fetchArticleCounts();\r\n    },\r\n    methods: {\r\n        async fetchArticleCounts() {\r\n            this.isLoading = true;\r\n            this.errorMessage = '';\r\n            this.hasMoreData = true;\r\n            this.cursor = 1;\r\n\r\n            try {\r\n                const response = await axios.get(`/main/all_multi_search?cursor=${this.cursor}`);\r\n                console.log(response);\r\n                if (response.data.code === 0) {\r\n                    const pageData = response.data.data;\r\n                    this.platformArticleCounts = {\r\n                        wechat: pageData.source_count.wechat,\r\n                        weibo: pageData.source_count.weibo,\r\n                        renmin: pageData.source_count.renmin,\r\n                        tieba: pageData.source_count.tieba\r\n                    };\r\n                } else {\r\n                    this.errorMessage = response.data.message;\r\n                    Message.warning(this.errorMessage);\r\n                }\r\n            } catch (error) {\r\n                if (error.response) {\r\n                    this.errorMessage = `请求失败，状态码: ${error.response.status}`;\r\n                    Message.error(this.errorMessage);\r\n                } else if (error.request) {\r\n                    this.errorMessage = '网络错误，无法连接到服务器';\r\n                    Message.error(this.errorMessage);\r\n                } else {\r\n                    this.errorMessage = '请求设置错误，请检查代码';\r\n                    Message.error(this.errorMessage);\r\n                }\r\n                console.error('数据请求出错:', error);\r\n            }\r\n\r\n            this.isLoading = false;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2{\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n}\r\n.platform-article-count {\r\n    margin-left: 20px;\r\n    background-color: #f5f5f500;\r\n    border-radius: 5px;\r\n}\r\n\r\n.platform-items-wrapper {\r\n    text-align: center;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 20px;\r\n}\r\n\r\n.platform-item {\r\n    /* 移除原来的 margin-bottom */\r\n}\r\n\r\n.error-message {\r\n    color: red;\r\n    text-align: center;\r\n    margin-top: 10px;\r\n}\r\n\r\n.loading {\r\n    color: #999;\r\n    text-align: center;\r\n    margin-top: 10px;\r\n}\r\n</style>    "],"mappings":";;;AAiBA,OAAAA,KAAA;AAGA;EACAC,KAAA;IACA;MACAC,qBAAA;QACAC,MAAA;QACAC,KAAA;QACAC,MAAA;QACAC,KAAA;MACA;MACAC,aAAA;QACAJ,MAAA;QACAC,KAAA;QACAC,MAAA;QACAC,KAAA;MACA;MACAE,MAAA;MACAC,SAAA;MACAC,YAAA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,kBAAA;EACA;EACAC,OAAA;IACA,MAAAD,mBAAA;MACA,KAAAJ,SAAA;MACA,KAAAC,YAAA;MACA,KAAAC,WAAA;MACA,KAAAH,MAAA;MAEA;QACA,MAAAO,QAAA,SAAAf,KAAA,CAAAgB,GAAA,uCAAAR,MAAA;QACAS,OAAA,CAAAC,GAAA,CAAAH,QAAA;QACA,IAAAA,QAAA,CAAAd,IAAA,CAAAkB,IAAA;UACA,MAAAC,QAAA,GAAAL,QAAA,CAAAd,IAAA,CAAAA,IAAA;UACA,KAAAC,qBAAA;YACAC,MAAA,EAAAiB,QAAA,CAAAC,YAAA,CAAAlB,MAAA;YACAC,KAAA,EAAAgB,QAAA,CAAAC,YAAA,CAAAjB,KAAA;YACAC,MAAA,EAAAe,QAAA,CAAAC,YAAA,CAAAhB,MAAA;YACAC,KAAA,EAAAc,QAAA,CAAAC,YAAA,CAAAf;UACA;QACA;UACA,KAAAI,YAAA,GAAAK,QAAA,CAAAd,IAAA,CAAAqB,OAAA;UACAC,QAAA,CAAAC,OAAA,MAAAd,YAAA;QACA;MACA,SAAAe,KAAA;QACA,IAAAA,KAAA,CAAAV,QAAA;UACA,KAAAL,YAAA,gBAAAe,KAAA,CAAAV,QAAA,CAAAW,MAAA;UACAH,QAAA,CAAAE,KAAA,MAAAf,YAAA;QACA,WAAAe,KAAA,CAAAE,OAAA;UACA,KAAAjB,YAAA;UACAa,QAAA,CAAAE,KAAA,MAAAf,YAAA;QACA;UACA,KAAAA,YAAA;UACAa,QAAA,CAAAE,KAAA,MAAAf,YAAA;QACA;QACAO,OAAA,CAAAQ,KAAA,YAAAA,KAAA;MACA;MAEA,KAAAhB,SAAA;IACA;EACA;AACA","ignoreList":[]}]}