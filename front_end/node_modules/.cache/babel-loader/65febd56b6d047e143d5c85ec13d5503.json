{"remainingRequest":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\RmAnalyze\\Search.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\src\\components\\RmAnalyze\\Search.vue","mtime":1737705006953},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\babel.config.js","mtime":1732591727371},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1733210776030},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733210776394},{"path":"D:\\dasanshang\\NLP\\1\\Topic_and_user_profile_analysis_system\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1733210773580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAic2VhcmNoIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAga2V5X3dvcmQ6ICIiLAogICAgICBzZWFyY2hSZXN1bHQ6IGZhbHNlLAogICAgICByZXN1bHRzOiBbXQogICAgfTsKICB9LAogIGZpbHRlcnM6IHsKICAgIC8vIOi/h+a7pOWZqDog5pi+56S65pGY6KaB55qE5YmNMjAw5Liq5a2X56ymCiAgICBzbmlwcGV0KHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAxMDApIHJldHVybiB2YWx1ZS5zbGljZSgwLCAxMDApICsgIi4uLiI7CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaQnOe0ouS6uuawkee9keaWh+eroAogICAgc2VhcmNoKCkgewogICAgICB0aGlzLnNlYXJjaFJlc3VsdCA9IGZhbHNlOyAvLyDliJ3lp4vljJbml7blhYjpmpDol4/nu5PmnpwKICAgICAgaWYgKHRoaXMua2V5X3dvcmQudHJpbSgpID09PSAiIikgcmV0dXJuOyAvLyDlpoLmnpzlhbPplK7lrZfkuLrnqbrvvIzkuI3miafooYzmkJzntKIKCiAgICAgIHRoaXMuJGF4aW9zLmdldChgc2VhcmNoX3JtP3RhZz0ke3RoaXMua2V5X3dvcmR9JmN1cnNvcj0xYCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgLy8g5aSE55CG5ZCO56uv6L+U5Zue55qE5pWw5o2uCiAgICAgICAgaWYgKHJlcy5kYXRhICYmIHJlcy5kYXRhLmRhdGEpIHsKICAgICAgICAgIHRoaXMucmVzdWx0cyA9IHJlcy5kYXRhLmRhdGEubWFwKGl0ZW0gPT4gKHsKICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsCiAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudCwKICAgICAgICAgICAgb3JpZ2luTmFtZTogaXRlbS5vcmlnaW5OYW1lLAogICAgICAgICAgICBkaXNwbGF5VGltZTogaXRlbS5kaXNwbGF5VGltZSwKICAgICAgICAgICAgdXJsOiBpdGVtLnVybAogICAgICAgICAgfSkpOwogICAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHQgPSB0cnVlOyAvLyDmlbDmja7liqDovb3lrozlkI7mmL7npLrnu5PmnpwKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcigi5pCc57Si5aSx6LSlOiIsIGVycik7CiAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHQgPSBmYWxzZTsgLy8g6K+35rGC5aSx6LSl5pe26ZqQ6JeP57uT5p6cCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOa3u+WKoOS7u+WKoe+8iOWIhuaekO+8iQogICAgYWRkKCkgewogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbliIbmnpDor6Xor53popgsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLiRheGlvcy5nZXQoJ2FkZF90YXNrX3JtP3RhZz0nICsgdGhpcy5rZXlfd29yZCkudGhlbihyZXMgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIhuaekCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["name","data","key_word","searchResult","results","filters","snippet","value","length","slice","methods","search","trim","$axios","get","then","res","console","log","map","item","title","content","originName","displayTime","url","catch","err","error","add","$confirm","confirmButtonText","cancelButtonText","$message","type","message"],"sources":["src/components/RmAnalyze/Search.vue"],"sourcesContent":["<template>\r\n    <div class=\"search\">\r\n      <div class=\"input\">\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"key_word\"\r\n          class=\"key\"\r\n          placeholder=\"搜索话题\"\r\n        />\r\n      </div>\r\n      <div class=\"search_button\">\r\n        <button @click=\"search()\">搜索</button>\r\n      </div>\r\n      <div class=\"searchResult\" v-show=\"searchResult\">\r\n        <div class=\"title\">\r\n          有关{{ key_word }}的话题\r\n          <button @click=\"add()\" class=\"analyze-btn\">分析</button>\r\n          <div class=\"close\" @click=\"searchResult = false\">\r\n            <i class=\"el-icon-close\"></i>\r\n          </div>\r\n        </div>\r\n        <div class=\"result\" v-for=\"result in results\" :key=\"result.url\">\r\n          <div class=\"info\">\r\n            <div class=\"text_title\">{{ result.title }}</div>\r\n          </div>\r\n          <div class=\"text\">\r\n            {{ result.content | snippet }}\r\n          </div>\r\n          <div class=\"msg\">\r\n            来源: {{ result.originName }} |   发布时间: {{ result.displayTime }}\r\n          </div>\r\n          <div class=\"url\">\r\n            <a :href=\"result.url\" target=\"_blank\" class=\"view-detail\">查看详情</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"search\",\r\n    data() {\r\n      return {\r\n        key_word: \"\",\r\n        searchResult: false,\r\n        results: [],\r\n      };\r\n    },\r\n    filters: {\r\n      // 过滤器: 显示摘要的前200个字符\r\n      snippet(value) {\r\n        if (value.length > 100) return value.slice(0, 100) + \"...\";\r\n        return value;\r\n      },\r\n    },\r\n    methods: {\r\n      // 搜索人民网文章\r\n      search() {\r\n        this.searchResult = false;  // 初始化时先隐藏结果\r\n        if (this.key_word.trim() === \"\") return; // 如果关键字为空，不执行搜索\r\n        \r\n        this.$axios\r\n         .get(`search_rm?tag=${this.key_word}&cursor=1`)\r\n         .then((res) => {\r\n            console.log(res);\r\n            // 处理后端返回的数据\r\n            if (res.data && res.data.data) {\r\n              this.results = res.data.data.map((item) => ({\r\n                title: item.title,\r\n                content: item.content,\r\n                originName: item.originName,\r\n                displayTime: item.displayTime,\r\n                url: item.url,\r\n              }));\r\n              this.searchResult = true;  // 数据加载完后显示结果\r\n            }\r\n          })\r\n         .catch((err) => {\r\n            console.error(\"搜索失败:\", err);\r\n            this.searchResult = false; // 请求失败时隐藏结果\r\n          });\r\n      },\r\n      // 添加任务（分析）\r\n      add() {\r\n        \r\n        this.$confirm('此操作将分析该话题, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n        }).then(() => {\r\n          this.$axios.get('add_task_rm?tag=' + this.key_word).then((res) => {\r\n            console.log(res);\r\n          });\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消分析'\r\n          });\r\n        });\r\n      }\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n .search {\r\n    display: flex;\r\n  }\r\n .input {\r\n    position: relative;\r\n    top: 5px;\r\n    margin: 0 10px;\r\n    width: 50%;\r\n    height: 70%;\r\n    background-color: #ffffff00;\r\n    border: 1px solid #ccc;\r\n    border: 2px solid #fefeff6a;\r\n    border-radius: 10px;\r\n    color: #fff;\r\n  }\r\n .key {\r\n    width: 570px;\r\n    height: 24px;\r\n    margin: 7px 10px;\r\n    outline: none;\r\n    border: 0;\r\n    font-size: 20px;\r\n    letter-spacing: 1px;\r\n    background-color: #ffffff00;\r\n    color: #fff;\r\n  }\r\n .key::placeholder {\r\n    color: #8d8787;\r\n  }\r\n .search_button {\r\n    margin: 6px;\r\n  }\r\n .search_button button {\r\n    background-color: hsla(166, 74%, 51%, 0.753);\r\n    border-radius: 14px;\r\n    color: #fff;\r\n    font-weight: 600;\r\n    font-size: 16px;\r\n    letter-spacing: 1px;\r\n    width: 80px;\r\n    height: 40px;\r\n  }\r\n .searchResult {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100vh;\r\n    background: linear-gradient(to right, #0e3f46, #2d66acd6);\r\n    z-index: 9;\r\n    overflow: auto;\r\n    border-right: 10px solid #ccc;\r\n    border-left: 10px solid #ccc;\r\n    border: 2px solid #fefeff6a;\r\n    border-radius: 10px;\r\n    color: #fff;\r\n  }\r\n .searchResult::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n .info {\r\n    display: flex;\r\n  }\r\n .text_title {\r\n    color: #f4f6f8;\r\n    margin-top: 5px;\r\n    margin-left: 20px;\r\n    margin-bottom: 0px;\r\n    font: 20px Helvetica, Verdana, Arial, SimHei, SimSun-ExtB;\r\n    \r\n    font-size: 23px;\r\n  }\r\n .result {\r\n    padding-top: 3px;\r\n    height: 19vh;\r\n    border-bottom: 2px solid #ffffffb9;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n .result:hover {\r\n    background: #e7e7e277;\r\n    box-shadow: #fafafa47 0 0 0;\r\n    cursor: pointer;\r\n  }\r\n .text {\r\n    font-size: 18px;\r\n    margin: 3px 0 0 20px;\r\n    flex: 1;\r\n    color: #eae6e6;\r\n  }\r\n .title {\r\n    font-size: 25px;\r\n    font-weight: 600;\r\n    text-align: center;\r\n    margin-bottom: 10px;\r\n    border-bottom: 5px solid #f2f6fabc;\r\n  }\r\n .close {\r\n    position: absolute;\r\n    top: 1px;\r\n    right: 20px;\r\n    font-size: 25px;\r\n    color: #fffdfd;\r\n    cursor: pointer;\r\n    padding: 2px;\r\n    transition: background-color 0.3s ease, transform 0.2s ease;\r\n  }\r\n .close:hover {\r\n    background-color: red;\r\n    transform: scale(1.1);\r\n  }\r\n .msg {\r\n    font-size: 15px;\r\n    margin-top: 2px;\r\n    margin-bottom: 10px;\r\n    margin-left: 20px;\r\n    color: #eae6e6;\r\n  }\r\n .analyze-btn {\r\n    \r\n    background-color: #37bff9;\r\n    color: #fff;\r\n    font-size: 18px;\r\n    padding: 8px 15px;\r\n    border-radius: 20px;\r\n    border: none;\r\n    cursor: pointer;\r\n    margin-left: 20px;\r\n    transition: background-color 0.3s ease, transform 0.2s ease;\r\n  }\r\n .analyze-btn:hover {\r\n    /* z-index: 9; */\r\n    background-color: #29a0bb;\r\n    transform: scale(1.05);\r\n  }\r\n  .view-detail {\r\n    color: #f0ecec;\r\n    margin-right: 10px;\r\n    text-decoration: underline;\r\n    text-align: right;\r\n    display: block;\r\n    margin-top: -2px;\r\n    font-size: 15px;\r\n  }\r\n  .view-detail:hover {\r\n    color: rgb(0, 255, 183);\r\n    }\r\n    /* 修改Element Plus提示框的z-index\r\n    .el-message__wrapper,\r\n    .el-confirm {\r\n        z-index: 10000!important;\r\n    } */\r\n</style>"],"mappings":";AAwCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,YAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,QAAAC,KAAA;MACA,IAAAA,KAAA,CAAAC,MAAA,eAAAD,KAAA,CAAAE,KAAA;MACA,OAAAF,KAAA;IACA;EACA;EACAG,OAAA;IACA;IACAC,OAAA;MACA,KAAAR,YAAA;MACA,SAAAD,QAAA,CAAAU,IAAA;;MAEA,KAAAC,MAAA,CACAC,GAAA,uBAAAZ,QAAA,aACAa,IAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACA;QACA,IAAAA,GAAA,CAAAf,IAAA,IAAAe,GAAA,CAAAf,IAAA,CAAAA,IAAA;UACA,KAAAG,OAAA,GAAAY,GAAA,CAAAf,IAAA,CAAAA,IAAA,CAAAkB,GAAA,CAAAC,IAAA;YACAC,KAAA,EAAAD,IAAA,CAAAC,KAAA;YACAC,OAAA,EAAAF,IAAA,CAAAE,OAAA;YACAC,UAAA,EAAAH,IAAA,CAAAG,UAAA;YACAC,WAAA,EAAAJ,IAAA,CAAAI,WAAA;YACAC,GAAA,EAAAL,IAAA,CAAAK;UACA;UACA,KAAAtB,YAAA;QACA;MACA,GACAuB,KAAA,CAAAC,GAAA;QACAV,OAAA,CAAAW,KAAA,UAAAD,GAAA;QACA,KAAAxB,YAAA;MACA;IACA;IACA;IACA0B,IAAA;MAEA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;MACA,GAAAjB,IAAA;QACA,KAAAF,MAAA,CAAAC,GAAA,2BAAAZ,QAAA,EAAAa,IAAA,CAAAC,GAAA;UACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACA;MACA,GAAAU,KAAA;QACA,KAAAO,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}